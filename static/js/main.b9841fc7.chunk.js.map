{"version":3,"sources":["constants/portals.ts","assets/brain.png","web/HomePage/MainPanel.tsx","assets/disease-trait.png","assets/gene-bcre.png","assets/snp-qtl.png","assets/single-cell.png","web/HomePage/PortalsPanel.tsx","web/HomePage/AboutUsPanel.tsx","web/HomePage/FooterPanel.tsx","web/HomePage/HomePage.tsx","hooks/useViewportSize.ts","mobile-portrait/HomePage/MainPanel.tsx","mobile-portrait/HomePage/HomePage.tsx","web/DownloadsPage/DownloadsPage.tsx","web/Portals/DiseaseTraitPortal/DiseaseTraitPortal.tsx","web/Portals/SNPPortal.tsx","web/Portals/GenePortal/GenePortal.tsx","web/Portals/SingleCellPortal.tsx","web/Portals/DiseaseTraitPortal/GeneAssociations.tsx","web/Portals/DiseaseTraitPortal/AssociatedSnpQtl.tsx","web/Portals/DiseaseTraitPortal/DiseaseTrailDetails.tsx","web/Portals/GenePortal/violin/utils.ts","web/Portals/GenePortal/axis/utils.ts","web/Portals/GenePortal/axis/yaxis.tsx","web/Portals/GenePortal/violin/tooltip.tsx","web/Portals/GenePortal/violin/legend.tsx","web/Portals/GenePortal/violin/violin.tsx","web/Portals/GenePortal/consts.ts","web/Portals/GenePortal/OpenTarget.tsx","web/Portals/GenePortal/AssociatedxQTL.tsx","web/Portals/GenePortal/scatterplot/utils.ts","web/Portals/GenePortal/scatterplot/xaxis.tsx","web/Portals/GenePortal/scatterplot/yaxis.tsx","web/Portals/GenePortal/scatterplot/legend.tsx","web/Portals/GenePortal/scatterplot/trendline.tsx","web/Portals/GenePortal/scatterplot/adult-fetal.tsx","web/Portals/GenePortal/GeneExpression.tsx","web/Portals/GenePortal/Browser/Explorer/Cytobands.tsx","web/Portals/GenePortal/Browser/EGeneTracks.tsx","web/Portals/GenePortal/Browser/Browser.tsx","web/Portals/GenePortal/GeneDetails.tsx","web/Portals/GenePortal/GTexUMAP.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["PORTAL_SELECT_OPTIONS","value","name","helperText","MainPanel","props","useState","searchVal","setSearchVal","navigate","useNavigate","selectedPortal","setSelectedPortal","Grid","container","item","sm","md","lg","xl","Container","style","marginTop","width","type","size","fontWeight","fontSize","lineHeight","letterSpacing","marginBottom","display","alignItems","flexWrap","marginRight","onSelectChange","val","selectOptions","onChange","e","target","onClick","state","searchvalue","alt","src","BRAIN","useStyles","makeStyles","theme","root","breakpoints","up","paddingLeft","between","DiseaseTraitPortalPanel","classes","xs","className","DiseaseTrait","bvariant","btheme","GeneBCREPortalPanel","useTheme","useMediaQuery","down","GeneBCRE","marginLeft","SNPQTLPortalPanel","SNPQTL","SingleCellPortalPanel","SingleCell","PortalsPanel","AboutUsPanel","FooterPanel","backgroundColor","color","paddingRight","paddingBottom","paddingTop","HomePage","onDownloadsClicked","onHomepageClicked","onPortalClicked","index","PORTALS","centered","getWindowDimensions","window","innerWidth","height","innerHeight","windowDimensions","setWindowDimensions","useEffect","handleResize","addEventListener","removeEventListener","useViewportSize","reactiveThreshold","reactiveWidth","containerWidth","Logo","textAlign","title","DownloadsPage","href","download","textDecoration","DISEASE_CARDS","cardLabel","cardDesc","DiseaseTraitPortal","useLocation","setVal","filter","d","toLowerCase","includes","undefined","diseaseCards","setdiseaseCards","fixed","Slide","direction","in","timeout","onCardClick","v","cardContentText","SNPPortal","GenePortal","fetching","setFetching","geneCards","setgeneCards","onSearchChange","useCallback","fetch","method","body","JSON","stringify","query","variables","assembly","id","headers","response","json","data","suggest","genesSuggestion","length","r","map","g","coordinates","chromosome","start","end","onSearchButtonClick","CircularProgress","f","find","geneid","split","SingleCellPortal","GeneAssociations","table","setTable","tabledata","header","gene_id","gene_name","hsq","twas_p","twas_bonferroni","dge_fdr","dge_log2fc","AssociatedSnpQtl","SnpAssociationData","snpid","chrom","stop","analyses_identifying_snp","riskallele","associated_gene","association_p_val","join","AssociatedSnpQuery","gql","AssociatedGenesQuery","DiseaseTraitDetails","disease","useParams","page","setPage","diseaseLabel","useQuery","limit","genesdata","genesAssociationsQuery","gwassnpAssociationsQuery","Box","sx","standardNormalKernel","input","sampleDomain","bandWidth","sampleRate","minimum","Math","min","maximum","max","samplePositions","i","push","retval","x","forEach","gaussian","sqrt","PI","amplitude","mean","stdev","positions","a","exp","median","values","sort","half","floor","linearTransform","FRIENDLY","Map","ticks","range","cscale","sfig","pow","log10","lrange","ceil","YAxis","verticalTransform","transform","textAnchor","y","dominantBaseline","fill","rangeValue","alignmentBaseline","toFixed","Tooltip","Object","keys","content","stroke","strokeWidth","key","Fragment","Legend","SingleViolin","useMemo","rendered","reversed","reverse","leftTransform","rightTransform","left","reduce","acc","complete","onMouseOver","onMouseOut","fillOpacity","Violin","domain","colors","mousedOver","onMousedOver","onMousedOut","ViolinPlot","b","localeCompare","mouseOverTitle","inner","outer","get","tKeys","xx","onViolinMousedOver","onViolinMousedOut","legendTitle","indexOf","n","toString","tissueColors","set","tissueTypeColors","OpenTargetQuery","roundTo","num","places","factor","round","OpenTarget","geneID","geneId","context","clientName","loading","useOpenTargetsData","formattedData","studiesAndLeadVariantsForGeneByL2G","q","study","studyId","render","rel","traitReported","pubAuthor","pmid","nInitial","toLocaleString","variant","pval","toExponential","beta","betaCI","odds","oddsCI","betaCILower","betaCIUpper","yProbaModel","expandCoordinates","l","CCRE_FIELDS","SNP_COORDINATE_QUERY","SNP_QUERY","QUERY","AssociatedxQTL","expandedCoordinates","resolvedTranscript","snpCoordinateResponse","queriedGene","fetal_eqtls","eqtls","snp","queriedTranscript","fetal_isoqtls","isoqtls","skip","snpResponse","groupedTranscripts","gene","transcripts","snpData","snpCoordinateData","useGenePageData","groupedQTLs","associateBy","allQTLs","snpQuery","eQTL","fdr","facetState","allQTLsData","nominal_pval","intersecting_ccres","accession","standardDeviation","avg","average","squareDiffs","diff","avgSquareDiff","sum","XAxis","horizontalTransform","nsort","Trendline","xt","yt","resolution","step","averages","stdevs","filtered","trendline","akeys","skeys","skeysr","center","top","identityTransform","AdultFetalScatterPlot","xtitle","ytitle","fx","fy","ax","ay","logScale","legendContent","normalized","yy","yyy","log","fetalDomain","adultDomain","fhorizontalTransform","ahorizontalTransform","fpaired","j","apaired","x1","y1","x2","y2","GeneExpressionPage","wBiosamples","groupBy","biosampleQuery","formattedExpression","expressionQuery","assay_term_name","diagnosis","sex","biosample","agedeath_adult","fetal","age","agedeath_fetus","gene_quantification_files","quantifications","tpm","expression","viewBox","CYTOBAND_QUERY","CytobandView","console","cytoband","highlight","position","EGeneTracks","settingsMousedOver","setSettingsMousedOver","setHeight","text","squish","rowHeight","genes","onHeightChanged","onSettingsClick","Browser","svgRef","useRef","setCoordinates","c","noMargin","onDomainChanged","marks","label","GTEX_GENES_QUERY","GeneDetails","tabIndex","setTabIndex","ref","grouped","gtex_genes","tissue_type_detail","sortedKeys","toPlot","flatMap","facetstate","pvalue","verticalAlign","Divider","Slider","defaultValue","valueLabelDisplay","Tabs","_","newTabIndex","Tab","padding","parseInt","GeneExpression","k","tissueCol","lower5","upper5","by","newVals","GTexUMAP","setData","pcdata","setPcData","then","lines","gtexumap","vals","tissueid","tissuetype","tissuedetail","points","svgProps","pcpoints","pcdomain","uref","pcuref","llegendref","marginFraction","innerSize","xAxisProps","yAxisProps","scatterData","wengLink","HttpLink","uri","openTargetLink","psychscreenLink","link","ApolloLink","operation","getContext","App","client","ApolloClient","cache","InMemoryCache","TabletHomePage","WebHomePage","ApolloProvider","path","element","replace","to","portal","React","createElement","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","StrictMode"],"mappings":"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","file":"static/js/main.b9841fc7.chunk.js","sourcesContent":["export const PORTAL_SELECT_OPTIONS = [\n    { value: \"disease/trait\", name: \"Disease/Trait\", helperText: \"e.g. schizophrenia, years of education\" },\n    { value: \"gene/bcre\", name: \"Gene/bCRE\", helperText: \"e.g. APOE, SOX4\" },\n    { value: \"snp/qtl\", name: \"SNP/QTL\", helperText: \"e.g. rs2836883, rs7690700\" }\n];\n","export default __webpack_public_path__ + \"static/media/brain.a1faa932.png\";","import React, {useState} from 'react';\nimport { Grid, Container, GridProps } from '@mui/material';\nimport BoltIcon from '@mui/icons-material/Bolt';\nimport AccessibilityNewIcon from '@mui/icons-material/AccessibilityNew';\nimport { Typography } from '@zscreen/psychscreen-ui-components';\nimport { SearchBoxWithSelect } from '@zscreen/psychscreen-ui-components';\nimport { useNavigate } from 'react-router-dom';\nimport { PORTAL_SELECT_OPTIONS } from '../../constants/portals';\nimport BRAIN from '../../assets/brain.png';\n\nconst MainPanel: React.FC<GridProps> = props => {\n    const [searchVal, setSearchVal] = useState<string>('')     \n    const navigate = useNavigate(); \n    const [selectedPortal, setSelectedPortal] =  useState<string>('Disease/Trait');\n    \n    return (\n    <Grid {...props} container>\n        <Grid item sm={0}  md={0} lg={1} xl={2}></Grid>\n        <Grid item  sm={9} md={8} lg={7} xl={5}>\n            <Container style={{ marginTop: \"147px\", width: \"741px\" }}>\n                <Typography\n                    type=\"display\"\n                    size=\"medium\"\n                    style={{ fontWeight: 700, fontSize: \"48px\", lineHeight: \"57.6px\", letterSpacing: \"0.5px\", marginBottom: \"16px\" }}\n                >\n                    Explore the genetics and epigenetics of human brain development, function, and pathophysiology.\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"large\"\n                    style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"4px\" }}\n                >\n                    <BoltIcon style={{ marginRight: \"9px\" }} /> Powered by the PsychENCODE Consortium\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"large\"\n                    style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"56px\" }}\n                >\n                    <AccessibilityNewIcon style={{ marginRight: \"9px\" }} /> Accessible to all\n                </Typography>\n                <SearchBoxWithSelect\n                    onSelectChange={(val: {name: string})=>{                    \n                        setSelectedPortal(val.name)\n                    }}\n                    selectOptions={PORTAL_SELECT_OPTIONS}\n                    style={{ marginBottom: \"14px\" }}\n                    onChange={e => { \n                        if(e.target.value===''){\n                            \n                        }\n                        setSearchVal(e.target.value)                            \n                    }}\n                    onClick={()=>{\n                        if(searchVal !== ''){   \n                            if(selectedPortal==='Disease/Trait')\n                            {\n                                navigate(\"/psychscreen/traits\", { state: { searchvalue: searchVal } })\n                            } else if(selectedPortal==='Gene/bCRE') {\n                                navigate(\"/psychscreen/gene\", { state: { searchvalue: searchVal } })\n                            }\n                            \n                         }\n                    }}\n                />\n            </Container>\n        </Grid>\n        <Grid item sm={3} md={4} lg={3} xl={3}>\n            <Container style={{ marginTop: \"143px\" }}>\n-               <img alt=\"PsychSCREEN\" src={BRAIN} style={{ width: \"85%\" }} />\n            </Container>\n        </Grid>\n        <Grid item sm={0} md={0} lg={1} xl={2} ></Grid>\n    </Grid>\n)};\nexport default MainPanel;\n","export default __webpack_public_path__ + \"static/media/disease-trait.604481d8.png\";","export default __webpack_public_path__ + \"static/media/gene-bcre.1e6ddfd8.png\";","export default __webpack_public_path__ + \"static/media/snp-qtl.532ae331.png\";","export default __webpack_public_path__ + \"static/media/single-cell.c1020702.png\";","import React from 'react';\nimport { Grid, Container, GridProps } from '@mui/material';\nimport CheckIcon from '@mui/icons-material/Check';\nimport { Button, Typography } from '@zscreen/psychscreen-ui-components';\n\nimport DiseaseTrait from '../../assets/disease-trait.png';\nimport GeneBCRE from '../../assets/gene-bcre.png';\nimport SNPQTL from '../../assets/snp-qtl.png';\nimport SingleCell from '../../assets/single-cell.png';\nimport { useNavigate } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nconst useStyles = makeStyles(theme => ({\n    root: {      \n      [theme.breakpoints.up('xl')]: {\n        paddingLeft: \"90px\"\n      },\n      [theme.breakpoints.between('md','lg')]: {\n        paddingLeft: \"40px\"\n      }\n    }\n    \n  }));\n\n\n\nconst DiseaseTraitPortalPanel: React.FC<GridProps> = props => {\n    const navigate = useNavigate();      \n    const classes = useStyles()    \n    return(\n    <Grid container {...props}>\n        <Grid item xs={0} sm={1}  md={0} lg={1} xl={2}></Grid>\n        <Grid item xs={12} sm={11} md={0} lg={11} xl={10}>          \n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    className={classes.root}\n                    style={{ fontSize: \"32px\", lineHeight: \"38.4px\", fontWeight: 700 }}\n                >\n                    Portals\n                </Typography>\n        </Grid>\n        <Grid item xs={0} sm={0}  md={0} lg={1} xl={2}></Grid>\n        <Grid item xs={12} sm={12} md={8} lg={6} xl={5}>\n            <Container style={{ marginTop: \"111px\", width: \"508px\" }}>\n                <img alt=\"Disease/Trait Portal\" src={DiseaseTrait} style={{ width: \"90%\" }} />\n            </Container>\n        </Grid>\n        <Grid item xs={12} sm={12} md={4} lg={4} xl={3}>\n            <Container style={{ marginTop: \"140px\", width: \"508px\" }}>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"20px\", lineHeight: \"24.4px\", fontWeight: 700, letterSpacing: \"1%\", marginBottom: \"40px\" }}\n                >\n                    Disease/Trait Portal\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"414px\" }}\n                >\n                    Explore heritability enrichment for 40 distinct psychiatric, behavioral, and neuronal traits within gene regulatory features,\n                    such as bCREs and quantitative trait loci (QTLs). Search genes associated with complex traits based on PsychENCODE TWAS.\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"large\"\n                    style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                >\n                    <CheckIcon style={{ marginRight: \"9px\" }} /> 40 total traits cataloged\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"large\"\n                    style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"40px\" }}\n                >\n                    <CheckIcon style={{ marginRight: \"9px\" }} /> 1,103 bCRE/trait associations\n                </Typography>\n                <Button bvariant=\"filled\" btheme=\"light\" onClick={()=>{ navigate(\"/psychscreen/traits\")}} >Explore Diseases/Traits</Button>\n            </Container>\n        </Grid>\n        <Grid item xs={0} sm={0} md={0} lg={1} xl={2} ></Grid>\n    </Grid>\n)};\n\nconst GeneBCREPortalPanel: React.FC<GridProps> = props => {\n    const theme = useTheme();\n    return(\n    <Grid container {...props}>\n        <Grid item  xs={0} sm={0} md={0} lg={1} xl={2}></Grid>\n        {\n            useMediaQuery(theme.breakpoints.down('sm')) ? \n            <>\n                <Grid item xs={12} sm={12} md={4} lg={5} xl={3}>\n                    <Container style={{ width: \"508px\" }}>\n                        <img alt=\"Gene bCRE portal\" src={GeneBCRE} style={{ width: \"80%\" }} />\n                    </Container><br/><br/>\n                </Grid>\n                <Grid item xs={12} sm={12} md={8} lg={5} xl={5}>\n                    <Container style={{ marginLeft: \"110px\",  width: \"508px\" }}>\n                        <Typography\n                            type=\"body\"\n                            size=\"medium\"\n                            style={{ fontSize: \"20px\", lineHeight: \"24.4px\", fontWeight: 700, letterSpacing: \"1%\", marginBottom: \"40px\" }}\n                        >\n                            Gene/bCRE Portal\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"medium\"\n                            style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"414px\" }}\n                        >\n                            Explore gene expression and regulatory element activity in the fetal and adult brain at bulk and single-cell resolution. Visualize gene/bCRE\n                            links based on PsychENCODE QTLs and single cell co-expression analyses.\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> Gene expression in 11 brain regions\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> 23 fetal, adolescent, and adult time points covered\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"40px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> 761,984 brain regulatory elements\n                        </Typography>\n                        <Button bvariant=\"filled\" btheme=\"light\">Explore Genes/bCREs</Button>\n                    </Container>\n                </Grid> \n            </>: \n            <>                \n                <Grid item xs={12} sm={12} md={8} lg={5} xl={5}>\n                    <Container style={{ marginLeft: \"70px\",  width: \"508px\" }}>\n                        <Typography\n                            type=\"body\"\n                            size=\"medium\"\n                            style={{ fontSize: \"20px\", lineHeight: \"24.4px\", fontWeight: 700, letterSpacing: \"1%\", marginBottom: \"40px\" }}\n                        >\n                            Gene/bCRE Portal\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"medium\"\n                            style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"414px\" }}\n                        >\n                            Explore gene expression and regulatory element activity in the fetal and adult brain at bulk and single-cell resolution. Visualize gene/bCRE\n                            links based on PsychENCODE QTLs and single cell co-expression analyses.\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> Gene expression in 11 brain regions\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> 23 fetal, adolescent, and adult time points covered\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"40px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> 761,984 brain regulatory elements\n                        </Typography>\n                        <Button bvariant=\"filled\" btheme=\"light\">Explore Genes/bCREs</Button>\n                    </Container>\n                </Grid>\n                <Grid item xs={12} sm={12} md={4} lg={5} xl={3}>\n                    <Container style={{ width: \"508px\" }}>\n                        <img alt=\"Gene bCRE portal\" src={GeneBCRE} style={{ width: \"90%\" }} />\n                    </Container>\n                </Grid>\n            </>\n        }\n       \n        <Grid item xs={0} sm={0}  md={0} lg={1} xl={2} ></Grid>\n    </Grid>\n)};\n\nconst SNPQTLPortalPanel: React.FC<GridProps> = props => (\n    <Grid container {...props}>\n        <Grid item xs={0} sm={0}  md={0} lg={1} xl={2}></Grid>\n        <Grid item xs={12} sm={12} md={8} lg={6} xl={5}>\n            <Container style={{ marginTop: \"111px\", width: \"508px\"}}>\n                <img alt=\"SNP/QTL Portal\" src={SNPQTL} style={{ width: \"80%\" }} />\n            </Container>\n        </Grid>\n        <Grid item xs={12} sm={12} md={4} lg={4} xl={3}>\n            <Container style={{ marginTop: \"140px\",  width: \"508px\" }}>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"20px\", lineHeight: \"24.4px\", fontWeight: 700, letterSpacing: \"1%\", marginBottom: \"40px\" }}\n                >\n                    SNP/QTL Portal\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"414px\" }}\n                >\n                    Search SNPs of interest and explore their impact on gene expression, chromatin accessibility, transcription factor (TF) binding\n                    and other molecular traits in the human brain based on PsychENCODE QTLs and sequence analysis of bCREs. Link SNPs to complex traits\n                    using GWAS annotations.\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"large\"\n                    style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                >\n                    <CheckIcon style={{ marginRight: \"9px\" }} /> 441,502 eQTLs, sQTLs, caQTLs, and fQTLs\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"large\"\n                    style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                >\n                    <CheckIcon style={{ marginRight: \"9px\" }} /> 13,336 variants associated with complex traits\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"large\"\n                    style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"40px\" }}\n                >\n                    <CheckIcon style={{ marginRight: \"9px\" }} /> 510,062 variants in bCREs\n                </Typography>\n                <Button bvariant=\"filled\" btheme=\"light\">Explore SNPs/QTLs</Button>\n            </Container>\n        </Grid>\n        <Grid item xs={0} sm={0} md={0} lg={1} xl={2} ></Grid>\n    </Grid>\n);\n\nconst SingleCellPortalPanel: React.FC<GridProps> = props => {\n   const theme = useTheme();\n   return (\n    <Grid container {...props}>\n        <Grid item xs={0} sm={0} md={0} lg={1} xl={2}></Grid>\n        { useMediaQuery(theme.breakpoints.down('sm')) ? \n            <>\n                <Grid item xs={12} sm={12} md={4} lg={4} xl={3}>\n                    <Container style={{ width: \"408px\" }}>\n                        <img alt=\"single cell portal\" src={SingleCell} style={{ width: \"100%\" }} />\n                    </Container><br/><br/>\n                </Grid>\n                <Grid item xs={12} sm={12} md={8} lg={6} xl={5}>\n                    <Container style={{ marginLeft: \"120px\",  width: \"508px\" }}>\n                        <Typography\n                            type=\"body\"\n                            size=\"medium\"\n                            style={{ fontSize: \"20px\", lineHeight: \"24.4px\", fontWeight: 700, letterSpacing: \"1%\", marginBottom: \"40px\" }}\n                        >\n                            Single-Cell Portal\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"medium\"\n                            style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"414px\" }}\n                        >\n                            Visualize the single cell composition of the human brain based on single cell ATAC-seq and RNA-seq from PsychENCODE and public\n                            sources. Identify marker genes and bCREs specific to particular cell types and states.\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> Transcriptomes for 1,391,772 single cells\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"40px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> Chromatin accessibility for 1,009,942 single cells\n                        </Typography>\n                        <Button bvariant=\"filled\" btheme=\"light\">Explore Single Cells</Button>\n                    </Container>\n                </Grid>\n            </> : \n            <>\n                <Grid item xs={12} sm={12} md={8} lg={6} xl={5}>\n                    <Container style={{ marginLeft: \"70px\",  width: \"508px\" }}>\n                        <Typography\n                            type=\"body\"\n                            size=\"medium\"\n                            style={{ fontSize: \"20px\", lineHeight: \"24.4px\", fontWeight: 700, letterSpacing: \"1%\", marginBottom: \"40px\" }}\n                        >\n                            Single-Cell Portal\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"medium\"\n                            style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"414px\" }}\n                        >\n                            Visualize the single cell composition of the human brain based on single cell ATAC-seq and RNA-seq from PsychENCODE and public\n                            sources. Identify marker genes and bCREs specific to particular cell types and states.\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> Transcriptomes for 1,391,772 single cells\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"40px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> Chromatin accessibility for 1,009,942 single cells\n                        </Typography>\n                        <Button bvariant=\"filled\" btheme=\"light\">Explore Single Cells</Button>\n                    </Container>\n                </Grid>\n                <Grid item xs={12} sm={12} md={4} lg={4} xl={3}>\n                    <Container style={{ width: \"508px\",  marginLeft: \"40px\" }}>\n                        <img alt=\"single cell portal\" src={SingleCell} style={{ width: \"80%\" }} />\n                    </Container>\n                </Grid>\n            </>\n        }\n        <Grid item xs={0} sm={0} md={0} lg={1} xl={2} ></Grid>\n    </Grid>\n)};\n\nconst PortalsPanel: React.FC<GridProps> = props => (\n    <>\n        <DiseaseTraitPortalPanel {...props} />\n        <GeneBCREPortalPanel style={{ marginTop: \"216px\" }} />\n        <SNPQTLPortalPanel style={{ marginTop: \"156px\" }} />\n        <SingleCellPortalPanel style={{ marginTop: \"176px\" }} />\n    </>\n);\nexport default PortalsPanel;\n","import React from 'react';\nimport { Grid, Container, GridProps } from '@mui/material';\nimport { Button, Typography } from '@zscreen/psychscreen-ui-components';\n\nconst AboutUsPanel: React.FC<GridProps> = props => (\n    <Grid container {...props}>\n        <Grid item sm={0}  md={0} lg={1} xl={2}></Grid>\n        <Grid item sm={0}  md={0} lg={11} xl={10}>\n            <Container style={{ marginLeft: \"10px\", width: \"741px\" }}>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"32px\", lineHeight: \"38.4px\", fontWeight: 700 }}\n                >\n                    About Us\n                </Typography>\n            </Container>\n        </Grid>\n        <Grid item sm={0}  md={0} lg={1} xl={2}></Grid>\n        <Grid item  sm={6} md={8} lg={6} xl={5}>\n            <Container style={{ marginLeft: \"10px\", marginTop: \"100px\" }}>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"16px\", lineHeight: \"24px\", letterSpacing: \"0.5px\", marginBottom: \"40px\", width: \"497px\" }}\n                >\n                    PsychSCREEN is a comprehensive catalog of genetic and epigenetic knowledge about the human brain. It was designed and built by Dr. Zhiping Weng's\n                    lab at UMass Chan Medical School as a product of the PsychENCODE Consortium.\n                </Typography>\n                <Button bvariant='outlined' btheme='light'>Learn More</Button>\n            </Container>\n        </Grid>\n        <Grid item sm={6} md={4} lg={4} xl={3}>\n            <Container style={{ marginTop: \"86px\" }}>\n                <img alt=\"UMass Chan Medical School\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAABlCAMAAACMReHqAAAA3lBMVEX///8AAAAAD58AAJ309foFBQX29vZnZ2fHx8eamprq6ur8/PylpaV5eXk0NDS1tbVQUFDKysoDG6dhYWHp6elQWLrb29uGhoYhISHT09NCQkK+vr4AAJjy8vKenp6UlJSvr69vb28qKioYGBg4ODiMjIxKSkpVVVU+Pj6kpKR8fHwTExMuLi7o6fNzc3MeHh7X2e/l5vV6fsVeY7q6veKEictobsE9RK8eJ6eeotaSl9HHyuirrttJUrktNKlRWLY3Pq69v+GMkc0XH6RxdsPLzemytd/a3PClqNgAAJCogr42AAAbkUlEQVR4nO1da4PattLGYTFgA4bimosxGJb7smy2bdqkado0TZq+//8PvdZ9RpaMN0ty6DnMp10sy5IeaTQ3jSqVK13pSle60pWudKUr/Ztpte6eorlbWMNv774/Re9uvlFv/rU0ag++4dfqzmnaF1XwtlqCrqAXkRv3a47zDT9YBnSnaX//5V/VFyfpCnoB9VYLMsa1b/jJUqA7U9vr99USmP9vg+5GUdTbtVq7OIoS/dlo0OFDfHmgOz3z2ze/lMHcBnq0ms3SIEgjSkH212w2g+PiTmezVhA0sqehfIkVXc1WUXHPsiJZuSiKg2A3WxXLJV+N/GC1qalhXLd3CPdUPbpA0M2o37wrhbkN9Nj0IQhleFvUpHlhx0JcWF9j34LcYG1o9nDW80SJ+O6iQe+E+Xf9H8phbl3p7UF9CT+ybg8GHijgzvaD+pAPymaQBntY/rZwqa/UKHePg/a3X+nJbswbcNjUV2lrcOwu+A/L+qznkzK+l14we3eccX7Yfp2Uw7xoT/fb6hOpsUTEcBasJn2Q5Yu0nEQWaxum6zcguYhXsRy5pDGQjRc/JosLBt3p+9qrb0qu82JBLtmKD6wsJRrkoeLlkWqS3iJAO1FmU3oozknJnH9+n1geyJmwv2TQ9T30bWnMi6V3MQo2YbFSIQ9jU5N31kr97ekyX5FGnGk/NPLPAg306UWD7szgi2+rZZn7CdCnonqrrFXDM6IhGzS2vqJkxLT0UJyPevzbW8/0tIFBb1026E6q3nv8vfxCLwa9KWq3ltBA76kGxbZXNrJIq/xYnItGXEkbWuZk+q8CXQ19SQX9a4M+tryhmIFVUvh6FHJ9wxlZCvj9fxXooh83fzwF868HumPYMwmphX5Cm/8aJMT2mbUEkUUlF7h80A9M//nxSZifGXRo0zkaXyCDKpZb90tG5TkkZJRFgWlgDDp0iaDfdtvNXSsN4jidzo63NTJDX5WX4b4O6B1h0nCMSnimBa1FtdsvHJgvpUhYXYOCQg0gjlwY6MPuPgg9OGH9JBo9RUH/WqC3pb3N5PYl1ttUmLUPTx2RZ1Kff/fBKLlz8rbKh3VRoG8CYeYMR3E8UpKo/3HyRNTPC/og2y6lZf1gWOqzjD+5YhOwidBfiUaiYcWyxFwJmJcD+rjJxirsDRacXx1mcu6+fP2f3NP3xMEvXRl5ccl9IL8Kw93Dt7XCSjurTXTP0aWAPm4wyHfzBfy5I/ehJ6J+XtA3ZL9U0lyueDaKtVCCXis9+ucgV4jud6Xn2mWAXmd60GiQfyR78meRKDcBVD0/6Euiqblyqadaab9DXTHSRG/R6io+c3yuV6ZZMZquyVfvuqsYo+c3VtQBdLueNgziueTu3dK7CgLdj/fEU7SdWaaqH1CZodM02qyzLvVdXg3RXsaWmIMc6OPYp33r1/QnaIALlLbqT/eSHqnH/bygO9TpLj0qXW3sA/Zcgm6RomM5a2q5yM8Idn7RB48b0BXcyYeRyYVSPs4RgO7H0mXgzEzepFFXPu/nBMWwteUyTiycus6dsR066E3aw3jjGEnZNH+zgl59Bap/Mzn/SneoOcuVjcKT3s+avq4Au1hqqrI3h91a4wFmW0c7DVpsGBToVGmorYJgQPe9fq5eOZx2y4xOCnSvDxvVzpWMUKOxYd9NmY+641U8VMwkUGLQ15Qd9FBkAyRl635r5e0/gNr/rH6FPZ3DIN/D5pcGL+wJVd5gfI/6uFvYxkMxHzOuPlpA0AcKDJ/YYOp6xa5ciUVaOiYO+h2MnTJVER2158oGHaZykS49vZo0/0kEep10z7NrcQu1ImygV9/fq8pv/voKoEccBmkFwYJy1v0uaaYnOGUuqDOZZ9JWZz9t1qWYOgR7X0hmy52oM5sBdwJ0av/dijGYGxZjePhi0IcE09qtip9i3ZCNHmRPDvNd8ziUBWSjZ+qlA0GvdmerhhFEeAfaYCTgm/7bzN6r3z2Cyn/mhc4KeiwsnHK5QgMNUeApP3LFY91SmwJMpiK+JlXP6QjW5Uh1JPP36TKW+3j0kDcCRxIRm/iYJzXgdRJj400lYFCWIP/zLSMQc1Wq+qM5ANk5pi5Z/OLf27xMqEC/JWNVsMyx+/qjBfQ/Qd3/iDJnBT0bpDGFQYXQgN0t48BL+lSCXscznQqAcqMT7jiwRWjzKOVfEx7TVD6pF4F+IlQXkAC9HvHvyH6pPtNmyhigHudxSsL0k0B8eSO+PBJzIz//JMi35BMjadM2EdhXb8yYT96Aql/KMIuzgp6txA2DVW5kyn0a3slNfC+mKgLdcxByPhdflJbMbH0bOZ4j54H/vdO+NTvvSle/zPQ6/AX+Mlc8llCU4zv+IclVkw86EKAvwgpQg4wEpf9XRtCrP4MiNyrM4qygDyTHlgYaFao7UN4toT1hb9deg2Sgg97QJrg3H/iwqKputEn1lkZSSnjyng6MM8J3LHfTVAOPN7oDQW/nfhMcwwr6gjB+FTVsojUYvM+vTcaZ6i9AiKt8UEXOCvpRzXnZtpT/kAzV3JS9QaDT/t4qg8tOH3IewraVReTrnLFI6c3PS0hSepQtOk150AW/kOIDAznUXzkBulBqraCPKsCwYKRbaJkyxlBUX3wGRaAif07QCVMXWpjiTGo0bkWvZb0IdILcAQxDbsiFTW2Rs3mJ8anbLazKTlhw/E+jEqAfNezSs4BOmJEMUDQT3KT+Nhphqz+BIvcwbvKcoBP9W4CuNCTWMfcANiFzwGWwnqdwFuSGPBGv1fTo5UA8uU2t8RFSo/giixynHOiNbj+FjTkL6IRdGs8YKYKRxJ//MoE++RUU8ZGZ9pygE1FNbpjypAQT0Ukf5DKUGBV6XPJDrnxMiyZi4JE6ZDW2bdlzUWJjnRenW5ADXadzgD73c0e/dIIWjnuji23yAVb7Bk2LM4AukSPiiRxy1Wr6vAstoxJ0a8hsNjejdm7I5Xt03CF2c/BgaIZdKt3lPbpPBz3KA/x00BOg1ZoJGnB9o6+l+h7W+lJ7+GzQlcmMgK622zpsIZF61S4k1V3rcYdk2hVWPTDkeCjG0FaHxuRoCo1RRUor6k8E3d3VhSXmOaCTH+XIGwnZN4wBctXX0BLnawHS5UC3DlP27EE+DJCLXG5KtYgu9I1qqQTd7PuIUmpgE8cjwRMlglNK1ZMGenBnaLArNwdzyKaBngJ6yDyri2eDTlSQRBl0DYQOkvxq1tDfwkr1eVEIusStCHTlUmpi1imdiCvM+IEbLu+uqnjxJtugF5sgMR0q8pQD08F1xmicTKhLRXFRcNAOUWnQk94me3DbbyW7Z4PuVYoN7koJIvTWLLhDIa7ySZ8XhaDL5WM7y0bkaeU1aGNzi/IpkfFGI20FPZqRUa21woolbsVFFosa5PDoxLlBWlPycIEokX2hISduSdDdGTUetqLK8wW5PqnZL7K+otBD86nFKnSnVm5yKUkKQZc6ki3HCZGslFCxxgGu6tDrfKiZRMQDzesdMoMlV/sswUohOEGtOV5hqIFBmpOzIud3hTRVPSoFesIaza1SzwV9TiD1CjBHXPfxvVGI+xGBmk9VUAi6ZMM21XaG+p+BvNSfCnpAmrUZ9B6d4DUBlzVCbaTkORxx66dqiazzrVVL3XoKt0IYbCr+LAN6tEVz7Lmg018KxDjkmDOfYKu+Rpj+lt8ACkH3xQ66NoeVUb+KGvaDNtQ+aCwW2cSvSCThBjcZWVEQltiQernmPfEV9zd0R04WQxoHQdGd8xT2HjIlQ3pcngs6fMFAdwhzs7L2+iWs69GQY6w4u5SccmYrCoFJRi5Uwgd96arG32LdWEwmGFfEQ1tkXIQJdPmtRCiEOZeZdFsa2qu0NmtOLqIzFbQgBzqbR0ptPQvocyvoqLs/Gzf0CRLcjRGTxaBLSc68C5LGKVWbOLWxZKbOM2qnXQToMCyGF1bu1pxjMzoqrpos4Sg05ophj/TXACm+abMFZm8vnwA6Vz4Vx+KgL58FutUygzD/YBbcf0NVvTFq8cV55KRoZGoe2SOBuE7+1U4fSwONZgQToENuxZ0mSwm6EAlkiQY8/cY36B5/FyzdvR104Lkyb+tkLqkJehp0PosUxxKNhuLWk0G3hcsg4dQcIFX9iGp6aTTLnwBdBosbUljRiDUw2GSIUlxEiE56dhmpbYOhFz0Vs0h+WpaI4C4RUePXgQ3uDn6BGWvN5+NV8qSOyfbg11GXToPOJ5jMphWJIK9nga7HWXJCcaSfjOlGqt9jPI3S/cmMkXJp5E6mUT8aTHFE+qaJ+ULh1JeVZCCAX4me8jGPpawmxy+B8iADnW87DTjKDPTU0iElZ+RjcZmZV715GnQxPLzfPWn1g9vHk0HXo2adfI8+vzAKcb9jOC1Jxk6mCZX7Sy2AIq9L83INAeZUStJPH7Pmb3QTmAzkBnq29MDPwtAbZVNAWN/3XjhlkDqOLlnzSdOA39gY56ikWGY024S4XT1mQ1RMdGYFXXADCc8qCkNiZhDTue95TdGE/VNBl/YRSMgedG9R1j6jeh6NkJcA3VcbTFee6ImmlEFDpTHUR4w1/8HUN5CwYmT4sUbPuO8i4b1YDHmPHbV7Mn/9EbwrZEi2paT2HkXgAA1orjwrpriPMCSDd/lEFBwNOHpoowfyIMdiIYUDvm4WSj8V1pci+4dGSN/wzUaZ6ktcjS1raImEwI0x/Ph6cxD+L+Hs8UdxIBlCtxXHYC4QvXkJFlQSx010YIOUZywEaae3DWC8F+DSv4Ow4octyNwzwMi/64ZXcSM2XsWnWAJgulsP0kYjTsHU5oeC45m09Ix3cZxU/DhW0SzzIKbcB8U03bXgGqFSRRSncmjWWTVkPOOZDIs+8mo0SnJnWtA6938oI7jbjzqVyQKdtJaG03PLVGCZayJAmSwNuHkG+YrEfuyBami0sLSgHfkaYUv00O2ysJy93G8i9sOyv6aSwEN6okfuqG/ObXuYi3TQeiRqBE5rMaJrLwEWf7qlSPmzT7m7HtxYYTEIgPD85OslWuBCWOU1pxtBoTIZPVozy5VM/T1qdmHQvrNoA5btro6ztCUo3R9nSLy7hbLAaN4+thAN2nPOsl2xkNaM6/pNbViSeK9aMYCyUgSW6nAGlWQbhcFMOxW4qLd6quGNWdaVgFH21yDjL/uW/CltpSs2Ar7Mq8EXAZ8tPFA3XqXqnVaL7EGDKaimNcN7X53/myD3Ed4GzN7UySssoZiDK54COgkw9eLpdNBut2fTXlLWOUmO9qWly2aoztqDNJK1R9m/O2Qy9cM0a8OgFeVa4I+m+3Z7lYal2+b7o8Z02qZdSiO3fJ+0RjdWWYNGyjLZ2rd3ZeadierCKezHMspQSwP7k1kNe6e1/x8r5v/bSf4vkDKGNRWzPOJH+rDy8+cLo4L+hwbkY0Gagivol0Vkl9pOE8p2/EqL5i9A2uejRUG/x/X4ZsP8FfRLJC6arOerWZsbKhDm92Zl7a9HrR7LKdYr6JdIObM7Ptlq8aD/pSnolrDoK+iXSTnQse/YfCJ58kmvpvhijyvol0U66FihMyvo1b/1WszhklfQL5Q00LHlxhLu/Eav5Ob74rRyV9AvizDoOGvDT+Z1/ipXyalksVfQL4sQ6CjM1GaUyWNuSUtxBf1SCYI+RL6Yz98Zzyl+zBsSjSFSV9AvlyDoKPTk0aiEoQQjnO6161yeGg17pW9NAHQkxFnCnQ3rvPJBwzyv2l9BvyxSoOPTGkbMJz8aarjXYiEnn3JC/xX0yyIJOj5Fbwx3xkfWZFEN4urbXKjcFfTLIgk6Cts0WtInebk9o5vv9PnxqXLzL1/po//EHczfkAToKILbeLuieZ3nRPfq74/5bb4Q9Gi/oheiox/DfSsI0oGIKfRoGUHpQEZ5+NM2CxBp7vdpoCVnrzTbU1b+iM+VNaY0NK6jZ3Mn5Mbd3GnUqD2gH5m1T+SHi5ok5q22nmvTJgqONHRqs4NxM+1BSlu3p8FpaZv1MesRejee0UiH9dSUkDBimaoXgxhGVDR4VSutKk4c9BqU3I3H0fJ2OEq5K9SrZN//6Smgj8YsVgspjDSi93YpZkK41U5Ti3Jum59VfliQIKfFOIbDXecPOwcIOs3u31mv10NyzbV+fJ2EU+lB1r0OizBZLIuDIdMH526zIvlBUGdCkrn/YbxeZ82pjevyxOySdXy4pcGXqy37924Lj/D0uuRGgfWYRPx29YjfkEyl7XpNXlzMVM9bSxaC3Vka7yLkoMMj2CbPWhXlCwOUT0BANoG3TwE9Q25O2gDb55F10UfLkJRZpHFGQQcdOKRhzSvPi3oUzSXSPBuk98jQSO817tO5EdJ7ubXG0HmS4+8uYQ2LE/FJPX6GalRDoAdkOu7IL36PRK2qw/YeqVXFLyRk1S6Qm5PEPM7IqywCt420J9K5PmEdIQ172oKP0gvIbXfScdBhbwyCe/W97ku1Fp6Qklpi8JN7OsWtBjCm0YopKkNW4JKB4R4gUj4o21houmdChhWG9noHKMCQnAa4Kezoc/7AKWE94+IIN1IZq7kFnZUErbXsW4pWGAlu7lv/rfhkgopJMCIth9eEkKMYIoKVrRs13+mJaUPiFUoMdBj8asgMWP3+3vJ6JbfQ6WH1J7H3ijiDoMByaTQ/Ds8k80Cc35hDpFw4QegJT5BPSgfdH+OKo5p2Czs71NLPnS1vnwZ9JIc9lO3h8dhqUfl1iMUJ0Feo8TTwWa1e0lV1lwk9hC2Pu7HDU7ZkRxR0eKORlg2MsvZ/rP3M+WRY9pl/vgj0oewBi/jFN1FA0GM4Mgh09qriczroZNltIfOe4+3Xr9eOuAZOJUBvypF0A5VaVpuFFQ/2qxh0gjJMyUvj24VEQFOSAuDodJfGltOgQ7kll/a1+ouNtVfySvqLF6SwHg1dAvRhDSCXzVqCFb5aRYHuJygXLwadojz30b8gj8dC4/bZwCIZIHTqHuY6nEqA3nYMSevILEOncf2NHWX8L2XusCH0CK+YsuSUBjzWU6EMXmwrp0EHFeuZhKqTVwWI5Yy1zDZ/r/96CvSGQ1UdMagNp0ui+TuIxyrQY/wAg87OAKlDqBj0ILeK3R4S2tJsOyeMsqM3sdxKz92jQL+Psy2E4PuFoIe5xs7BL2N9ajbglngadFCxFh81eUfzTNiypzxqKcAnLGDyyRa5wAmmYJ52nBhfLE9Igd52ikCnfVeSGgadHukoaskyqzuFS0ZQCdDZJjVAk4juw/aU0IWgN3NjQOcs03LIhbJOCh9SPiDSVZwGXXGfG2RIr1Y/UAmuaTNJPGpLmp10yh1xPQn6wAlIol/e4chZsMHKgx5mvD3Ts4pAp0dw5chpoFMJpqAhUe3AT6Xr/L0E6Pyc3HgHitEJZE8px1D2OWmgd3NjQHcexjcCuL8zIgqfyKhwEvQhAF3BVZ1Uf6AnkT2Q/0qjz9re/Zr+mrv24STom6z5lC1T5njMFmpkBF1QEej0XynQGEA3p49gNKUVkXdqGncrAbo8CF1TKDdNXEORIce+Ap3Mobt8V1nf4P1DnCDzPwk6yLch7+CoVt//Sle5nx7sl1Ng0Hmeqc9Pd61uM2mKwkwE24jcLRJp2w4bvrvuZrNZlABdAmsAPbddK/LHNAkt3Wq0xBZlQK8E4piq5BOr06DfbZeChgj0g3l+M6WthXstmlgadHi84e/JpFqdTCbv/maqObu+ycreMbb0qqacYbYE6HSJj3kfB2TIotxgEdCpcSbaPm+lF7D30OlMd9MdXX/aiJUCvRKJRDdiypRg7xvX45SsyoDOND4D6EfAtU+DDvWMx19/ePVGxLW7PCGKDfQboOBV+fVchvNNp0Enjl1mTiVZ/BMuuSLPnxLkVqdBl/YPDXR6CNneDshttdwi5UDP5Eh2NlmkjaXH3+3XPGiCXNPJ7emoFbRvrDeB4+gSIsF5XVqQ0/0LgmIxb62+JZUesvqaWedNkbGnQE/o1fbU2rBMdnQq08wfqE8K9OBQBPoIrS0N9Dl5aL3qwe862/F2ux0f8ky5LOjsQk7JZunktaeJLQR9lVvMYNOj0iY6akrHr7zKZk6k0VNRNXaH4scqpUzoY8AaUw2dAj1iOX4pK2wuKCj0qlSUGgFa5BBpoJOhUp4RDfSYcRNAPjhq3pPxwHSxoq+UBp1/ROyt1IeChJMEfLEQ9Cg3YYj1QihlOccQNTyVN84YMl+5oxPZjgX99PMfv7x/94EdaDRH1p0EPWaD7RIx6I51kzqcUKMx6Ilie5pFbotQ1kAPl/rUiYDEtpclKYtDECPQ/djALdyuGKa+Ap3ljEAsqw1wLASdThgUokwYFco5BSsmc00myMag+ynaJcRqxg4Zt4WzZhSHDtzc88H4ZDzueBr0HZdIWf6enmw0SgKLQW8rGRyDTutQb+m295a+1AcAW7UtBDnOikE32luGor07ADrz2oH9yIUMrBB0ZmcCpWmuMdEGvhuqpwQyua1h0HtYlpQsfMgTcvjhKMA3G5wEnffu07vJF2aXmnFWSg00LJ8/TaBkB90FwCHQyTjBvKA51+oG92cEZkisFgpllcgNj0BvGq+hGAts9zCRa4N4FUCG67lsa+UU6EywVJyoj3xjlPur0qTnwE+JXKvtB9ReEAI93LT3x/oG32ByCvQ/b2g6A//mtz9yuf1Lg34UO1ddfYv0FyXPpmYO3vZkDoaCgs6ZXvPOwRpSDnTK/msp/y+TF5Wtpg32E908TTmr8G/Et47JMN139rQAuPCVEGXwMiBkhgRJDfSZPtPJVx/4Pk0lxBQ8pMEZM96SUcYFjmqWUn96Xb6Ik4sU3aKsCH4K0/9V3/348eMfr6u2VX4S9CTMOjPshaTx2bo70EnkxWTzre08vkJ8j2nAw2naSluDmgIkYZdGP6S9XjAl7K8LoEo8Kkp3R2BLY5ckbIORF/aAXuxG2T/9yPNZpZQh9EXqLzfsUQ//nKaBqutZeThlC7zfCKPgoHmFWeL4VSPyIspExYRxvQZRExYB62XijcjTYeoBns3iZXqhF5ErJW6xxWhEBmkcRLwnYJ17KVVO9zTmrqPv3s8FndhyqPhuh/zFpBB0kfaO8OtsftIlq65F4q2N9BYdRIYwnMF60e1BONQ+BcXcuE9GpDYkWAz7nC9wKy+Vm1Sl/PO5mwqNLhQSzuY8ZHUvWnhOeOz+ldsh+e52rzYJQVSkUXkNIUQRvRv9gVTbyaUxc3eEkd2RnjzM9cAjO4Bzp3aaCth79bsSVAh6L24QYkkNgyHtlxc0GAkp2Y3juCEp+0dg6/di9WPc0LbaBn8YBxiFUXDsLpx1fxWo+954MxJYqfh8qH/ekhS219wMx/Mg/9Trtbrd2qI7T4EnN5JNpwx8JP/FqsEorq8fDt1Bw/TRpDHdjG+7xwD1PNLb+18e032lK13pSle60pWu9F9P/w/LBwVOu4Q8uwAAAABJRU5ErkJggg==\" />\n            </Container>\n        </Grid>\n        <Grid item sm={0} md={0} lg={1} xl={2} ></Grid>\n    </Grid>\n);\nexport default AboutUsPanel;\n","import React from 'react';\nimport { Grid, Container, GridProps } from '@mui/material';\nimport { Typography } from '@zscreen/psychscreen-ui-components';\n\nconst FooterPanel: React.FC<GridProps> = props => (\n    <Grid container {...props}>\n        <Grid style={{ backgroundColor: \"#000000\", color: \"#ffffff\" }} item sm={4}>\n            <Container style={{ marginLeft: \"160px\", marginTop: \"116px\" }}>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"32px\", lineHeight: \"27px\", fontWeight: 700, marginBottom: \"14px\" }}\n                >\n                    psych<br />&nbsp;screen\n                </Typography>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"14px\", lineHeight: \"22px\", fontWeight: 400, width: \"180px\" }}\n                >\n                    Explore the genetics and epigenetics of human brain.\n                </Typography>\n            </Container>\n        </Grid>\n        <Grid style={{ backgroundColor: \"#000000\", color: \"#ffffff\" }} item sm={2}>\n            <Container style={{ marginTop: \"116px\" }}>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 700, letterSpacing: \"0.5px\", marginBottom: \"21.5px\" }}\n                >\n                    About Us\n                </Typography>\n                <div style={{ marginLeft: \"10px\" }}>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        Overview\n                    </Typography>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        Weng Lab\n                    </Typography>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        PsychENCODE Consortium\n                    </Typography>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        UMass Chan Medical School\n                    </Typography>\n                </div>\n            </Container>\n        </Grid>\n        <Grid style={{ backgroundColor: \"#000000\", color: \"#ffffff\" }} item sm={2}>\n            <Container style={{ marginTop: \"116px\" }}>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 700, letterSpacing: \"0.5px\", marginBottom: \"21.5px\" }}\n                >\n                    Portals\n                </Typography>\n                <div style={{ marginLeft: \"10px\" }}>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        Disease/Trait\n                    </Typography>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        Gene/bCRE\n                    </Typography>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        SNP/QTL\n                    </Typography>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        Single Cell\n                    </Typography>\n                </div>\n            </Container>\n        </Grid>\n        <Grid style={{ backgroundColor: \"#000000\", color: \"#ffffff\" }} item sm={1}>\n            <Container style={{ marginTop: \"116px\", marginLeft: \"-60px\" }}>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 700, letterSpacing: \"0.5px\", marginBottom: \"21.5px\" }}\n                >\n                    Resources\n                </Typography>\n                <div style={{ marginLeft: \"10px\" }}>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        Tutorials\n                    </Typography>\n                    <Typography\n                        type=\"body\"\n                        size=\"medium\"\n                        style={{ fontSize: \"14px\", lineHeight: \"20px\", fontWeight: 400, letterSpacing: \"0.1px\", marginBottom: \"10px\" }}\n                    >\n                        Tools\n                    </Typography>\n                </div>\n            </Container>\n        </Grid>\n        <Grid style={{ backgroundColor: \"#000000\", color: \"#ffffff\" }} item sm={2}>\n            <Container style={{ marginTop: \"116px\" }}>\n                <Typography\n                    type=\"body\"\n                    size=\"medium\"\n                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 700, letterSpacing: \"0.5px\", marginBottom: \"21.5px\" }}\n                >\n                    Downloads\n                </Typography>\n            </Container>\n        </Grid>\n        <Grid style={{ backgroundColor: \"#000000\", color: \"#ffffff\" }} item sm={1} />\n        <Grid style={{ backgroundColor: \"#000000\", color: \"#ffffff\", paddingLeft: \"160px\", paddingRight: \"205px\", paddingBottom: \"60px\", paddingTop: \"107px\" }} item sm={12}>\n            <hr />\n            Copyright &copy; 2022 Weng Lab\n        </Grid>\n    </Grid>\n);\nexport default FooterPanel;\n","/**\n * HomePage.tsx: the app home page.\n */\n\nimport { useNavigate } from 'react-router-dom';\nimport { AppBar } from '@zscreen/psychscreen-ui-components';\n\nimport { PORTALS } from '../../App';\nimport MainPanel from './MainPanel';\nimport PortalsPanel from './PortalsPanel';\nimport AboutUsPanel from './AboutUsPanel';\nimport FooterPanel from './FooterPanel';\n\nconst HomePage: React.FC = () => {\n    const navigate = useNavigate();\n    return (\n        <>\n            <AppBar\n                onDownloadsClicked={() => navigate(\"/psychscreen/downloads\")}\n                onHomepageClicked={() => navigate(\"/\")}\n                onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\n                style={{ marginBottom: \"63px\" }}\n                centered={true}\n            />\n            <MainPanel />\n            <PortalsPanel style={{ marginTop: \"160px\" }} />\n            <AboutUsPanel style={{ marginTop: \"355px\" }} />\n            <FooterPanel style={{ marginTop: \"160px\" }} />\n        </>\n    );\n};\nexport default HomePage;\n","import { useState, useEffect } from 'react';\n\nfunction getWindowDimensions() {\n    const { innerWidth: width, innerHeight: height } = window;\n    return {\n        width,\n        height\n    };\n}\n\nexport function useViewportSize() {\n    const [ windowDimensions, setWindowDimensions ] = useState(getWindowDimensions());\n    useEffect(() => {\n        const handleResize = () => { setWindowDimensions(getWindowDimensions()); };\n        window.addEventListener('resize', handleResize);\n        return () => window.removeEventListener('resize', handleResize);\n    }, []);\n    return windowDimensions;\n}\n","import React, { useState } from 'react';\nimport { Grid, Container, GridProps } from '@mui/material';\nimport BoltIcon from '@mui/icons-material/Bolt';\nimport AccessibilityNewIcon from '@mui/icons-material/AccessibilityNew';\nimport { Typography } from '@zscreen/psychscreen-ui-components';\nimport { SearchBoxWithSelect } from '@zscreen/psychscreen-ui-components';\nimport { useNavigate } from 'react-router-dom';\n\nimport { PORTAL_SELECT_OPTIONS } from '../../constants/portals';\nimport { useViewportSize } from '../../hooks/useViewportSize';\nimport BRAIN from '../../assets/brain.png';\n\nconst MainPanel: React.FC<GridProps> = props => {\n    const { width } = useViewportSize();\n    const [searchVal, setSearchVal] = useState<string>('')     \n    const navigate = useNavigate(); \n    const [selectedPortal, setSelectedPortal] =  useState<string>('Disease/Trait');\n    return (\n        <Grid {...props} container>\n            <Grid item xs={6}>\n                <img alt=\"PsychSCREEN\" src={BRAIN} style={{ width: \"80%\", marginTop: \"22px\", marginLeft: \"20px\" }} />\n            </Grid>\n            <Grid item xs={6} />\n            <Grid item xs={12} style={{ marginTop: \"28px\" }}>\n                <Container style={{ marginLeft: \"29px\", marginRight: \"29px\", width: \"92%\" }}>\n                    <Typography\n                        type=\"display\"\n                        size=\"medium\"\n                        style={{ fontWeight: 700, fontSize: \"28px\", lineHeight: \"33.6px\", letterSpacing: \"0.5px\", marginBottom: \"23px\" }}\n                    >\n                        Explore the genetics and epigenetics of human brain development, function, and pathophysiology.\n                    </Typography>\n                    <Typography\n                        type=\"body\"\n                        size=\"large\"\n                        style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"4px\" }}\n                    >\n                        <BoltIcon style={{ marginRight: \"9px\" }} /> Powered by the PsychENCODE Consortium\n                    </Typography>\n                    <Typography\n                        type=\"body\"\n                        size=\"large\"\n                        style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"56px\" }}\n                    >\n                        <AccessibilityNewIcon style={{ marginRight: \"9px\" }} /> Accessible to all\n                    </Typography>\n                    <SearchBoxWithSelect\n                        reactiveThreshold={500}\n                        reactiveWidth={width * 0.8}\n                        containerWidth={width}\n                        selectOptions={PORTAL_SELECT_OPTIONS}\n                        style={{ marginBottom: \"14px\" }}\n                        onSelectChange={(val: {name: string})=>{                    \n                            setSelectedPortal(val.name)\n                        }}\n                        onChange={e => { \n                            if(e.target.value===''){\n                                \n                            }\n                            setSearchVal(e.target.value)                            \n                        }}\n                        onClick={()=>{\n                            if(searchVal !== ''){   \n                                if(selectedPortal==='Disease/Trait')\n                                {\n                                    navigate(\"/psychscreen/traits\", { state: { searchvalue: searchVal } })\n                                }\n                                \n                             }\n                        }}\n                    />\n                </Container>\n            </Grid>\n        </Grid>\n    );\n};\nexport default MainPanel;\n","/**\n * HomePage.tsx: the app home page.\n */\n\nimport { useNavigate } from 'react-router-dom';\nimport { TabletAppBar } from '@zscreen/psychscreen-ui-components';\n\nimport { PORTALS } from '../../App';\nimport MainPanel from './MainPanel';\nimport { Typography } from '@zscreen/psychscreen-ui-components';\nimport PortalsPanel from '../../web/HomePage/PortalsPanel';\n\nexport const Logo: React.FC = () => {\n    const navigate = useNavigate();\n    \n    return(\n        <div>\n            <Typography\n                type=\"display\"\n                size=\"medium\"\n                style={{ display: \"inline-block\", fontWeight: 700, fontSize: \"20px\", lineHeight: \"15px\", textAlign: \"left\", marginLeft: \"-30px\" }}\n                onClick={() => navigate(\"/\")}\n            >\n                psych<br />&nbsp;screen\n            </Typography>\n        </div>\n)};\n\nconst HomePage: React.FC = () => {\n    const navigate = useNavigate();\n    return (\n        <>\n            <TabletAppBar\n                onDownloadsClicked={() => navigate(\"/psychscreen/downloads\")}\n                onHomepageClicked={() => navigate(\"/\")}\n                onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\n                style={{ marginBottom: \"63px\" }}\n                title={<Logo /> as any}\n            />\n            <MainPanel />\n            <PortalsPanel style={{ marginTop: \"160px\" }} />\n        </>\n    );\n};\nexport default HomePage;\n","/**\n * DownloadsPage.tsx: contains links to various PsychSCREEN downloads.\n */\n\nimport React from 'react';\nimport { Typography, Button, AppBar } from '@zscreen/psychscreen-ui-components';\nimport { useNavigate } from 'react-router-dom';\nimport { Container } from '@mui/system';\nimport DownloadIcon from '@mui/icons-material/Download';\n\nimport { PORTALS } from '../../App';\n\nconst DownloadsPage: React.FC = () => {\n    const navigate = useNavigate();\n    return (\n        <>\n            <AppBar\n                onDownloadsClicked={() => navigate(\"/downloads\")}\n                onHomepageClicked={() => navigate(\"/\")}\n                onPortalClicked={index => navigate(PORTALS[index][0])}\n            />\n            <Container style={{ marginTop: \"5em\", marginLeft: \"6em\", width: \"40%\" }}>\n                <Typography\n                    type=\"display\"\n                    size=\"small\"\n                >\n                    Downloads\n                </Typography>\n                <div style={{ height: \"2em\" }} />\n                <a href=\"https://storage.googleapis.com/gcp.wenglab.org/adult-bCREs.bed\" download style={{ textDecoration: \"none\" }}>\n                    <Button bvariant=\"filled\" btheme=\"light\">\n                        <DownloadIcon /> Adult brain cCREs\n                    </Button>\n                </a>&nbsp;\n                <a href=\"https://storage.googleapis.com/gcp.wenglab.org/fetal-bCREs.bed\" download style={{ textDecoration: \"none\" }}>\n                    <Button bvariant=\"filled\" btheme=\"light\">\n                        <DownloadIcon /> Fetal brain cCREs\n                    </Button>\n                </a>\n            </Container>\n        </>\n    );\n};\nexport default DownloadsPage;\n","/**\n * DiseaseTraitPortal.tsx: the disease/trait portal page.\n */\n\nimport React, { useState } from 'react';\nimport { AppBar } from '@zscreen/psychscreen-ui-components';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { Grid, Container, GridProps, Slide } from '@mui/material';\nimport DiseaseTrait from '../../../assets/disease-trait.png';\nimport { TabletAppBar } from '@zscreen/psychscreen-ui-components';\nimport { Typography } from '@zscreen/psychscreen-ui-components';\nimport CheckIcon from '@mui/icons-material/Check';\nimport { SearchBox, HorizontalCard } from '@zscreen/psychscreen-ui-components';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nimport { PORTALS } from '../../../App';\nimport { Logo } from '../../../mobile-portrait/HomePage/HomePage';\n \n\nexport const DISEASE_CARDS = [{val: \"ADHD_Demontis2018\", cardLabel: \"Attention deficit hyperactive disorder\", cardDesc: \"Description\"},\n{val: \"AgeFirstBirth\", cardLabel: \"Age at birth of first child\", cardDesc: \"Description\"},\n{val: \"Alzheimers\", cardLabel: \"Alzheimers\", cardDesc: \"Description\"},\n{val: \"Anorexia\", cardLabel: \"Anorexia\", cardDesc: \"Description\"},\n{val: \"ASD\", cardLabel: \"Autism spectrum disorder\", cardDesc: \"Description\"},\n{val: \"BipolarDisorder\", cardLabel: \"BipolarDisorder\", cardDesc: \"Description\"},\n{val: \"Schizophrenia\", cardLabel: \"Schizophrenia\", cardDesc: \"Description\"},\n{val: \"BMI\", cardLabel: \"BMI\", cardDesc: \"Description\"},\n{val: \"CigsPerDay\", cardLabel: \"Cigarettes smoked per day\", cardDesc: \"Description\"},\n{val: \"EverSmoked\", cardLabel: \"History of smoking\", cardDesc: \"Description\"},\n//{val: \"GeneralRiskTolerance_KarlssonLinner2019\", cardLabel: \"General risk tolerance\", cardDesc: \"Description\"},\n{val: \"Insomnia\", cardLabel: \"Insomnia\", cardDesc: \"Description\"},\n{val: \"Intelligence\", cardLabel: \"Intelligence\", cardDesc: \"Description\"},\n//{val: \"NumberChildrenEverBorn\", cardLabel: \"Number of children\", cardDesc: \"Description\"},\n{val: \"ReactionTime\", cardLabel: \"Reaction Time\", cardDesc: \"Description\"},\n{val: \"SleepDuration\", cardLabel: \"Sleep Duration\", cardDesc: \"Description\"},\n{val: \"YearsEducation\", cardLabel: \"Years of Education\", cardDesc: \"Description\"},\n]\n\nconst DiseaseTraitPortal: React.FC<GridProps> = (props: GridProps) => {\n    const { state }: any = useLocation();\n    const { searchvalue } = state ? state : { searchvalue: ''} \n    const navigate = useNavigate(); \n    const [ val, setVal ] = useState<string>(searchvalue)         \n    const [diseaseCards, setdiseaseCards] = useState<{cardLabel: string, val: string, cardDesc: string}[] | undefined>(searchvalue!=='' ? DISEASE_CARDS.filter(d=>d.cardLabel.toLowerCase().includes(val.toLowerCase())):  undefined)    \n    const theme = useTheme();\n    return (\n        <>\n            {  //show vertical app bar only for mobile view \n                useMediaQuery(theme.breakpoints.down('xs')) ? \n                    <TabletAppBar\n                        onDownloadsClicked={() => navigate(\"/psychscreen/downloads\")}\n                        onHomepageClicked={() => navigate(\"/\")}\n                        onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\n                        style={{ marginBottom: \"63px\" }}\n                        title={<Logo /> as any}\n                    />\n                    :<AppBar\n                        centered={true}\n                        onDownloadsClicked={() => navigate(\"/downloads\")}\n                        onHomepageClicked={() => navigate(\"/\")}\n                        onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\n                    /> \n            }           \n            <Grid container {...props}> \n                <Grid item sm={0}  md={1} lg={2} xl={2}></Grid>\n                <Grid item sm={8} md={6} lg={5} xl={4}>\n                    {useMediaQuery(theme.breakpoints.down('sm')) && <Container style={{ marginTop: \"130px\" }}>\n                            <img alt=\"disease/trait portal\" src={DiseaseTrait} style={{ width: \"70%\" ,height: \"100%\" }} />\n                    </Container>}\n                    <Container  style={{ width:\"741px\", marginTop: \"147px\" }} fixed>\n                        <Typography\n                            type=\"display\"\n                            size=\"medium\"\n                            style={{ fontWeight: 700, fontSize: \"48px\", lineHeight: \"57.6px\", letterSpacing: \"0.5px\", marginBottom: \"16px\" }}\n                        >\n                            Disease/Trait Portal\n                        </Typography>\n                        <br/>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"414px\" }}\n                        >\n                            Explore heritability enrichment for 40 distinct psychiatric, behavioral, and neuronal traits within gene regulatory features,\n                            such as bCREs and quantitative trait loci (QTLs). Search genes associated with complex traits based on PsychENCODE TWAS.\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> 40 total traits cataloged\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\", marginBottom: \"40px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> 1,103 bCRE/trait associations\n                        </Typography>\n                        <SearchBox\n                            value={val}\n                            onChange={e => { \n                                if(e.target.value===''){\n                                    setdiseaseCards(undefined)\n                                }\n                                setVal(e.target.value)        \n                            }}\n                            onClick={() => {                             \n                                if(val !== ''){                                    \n                                    setdiseaseCards(DISEASE_CARDS.filter(d=>d.cardLabel.toLowerCase().includes(val.toLowerCase())))\n                                }\n                            }}                \n                            helperText={\"e.g. schizophrenia, years of education\"}                            \n                        />\n                        \n\n                    </Container>\n                    {useMediaQuery(theme.breakpoints.down('sm')) && diseaseCards && <Slide direction=\"up\" in timeout={1000}>\n                            <Container style={{ marginLeft: \"12px\", marginTop: \"150px\" }}>            \n                                <HorizontalCard width={500}\n                                    onCardClick={(v?: string) => {\n                                        navigate(`/psychscreen/traits/${v}`, { state: { searchvalue: val } })\n                                    }}\n                                    cardContentText={diseaseCards} \n                                />            \n                            </Container>\n                        </Slide> \n                    }\n                </Grid>\n                {useMediaQuery(theme.breakpoints.up('md'))  && <Grid item sm={4} md={4} lg={3} xl={3}>\n                    {!diseaseCards ? ( \n                            <Container style={{ marginTop: \"170px\" }}>\n                                <img alt=\"disease/trait portal\" src={DiseaseTrait} style={{ width: \"100%\" ,height: \"100%\" }} />\n                            </Container>\n                        ):( \n                            <Slide direction=\"up\" in timeout={1000}>\n                                <Container style={{ marginLeft: \"12px\", marginTop: \"150px\" }}>            \n                                    <HorizontalCard width={500}\n                                        onCardClick={(v?: string) => {\n                                            navigate(`/psychscreen/traits/${v}`, { state: { searchvalue: val } })\n                                        }}\n                                        cardContentText={diseaseCards} \n                                    />            \n                                </Container>\n                            </Slide>              \n                        )}\n                </Grid>}\n                <Grid item sm={0} md={1} lg={2} xl={3} ></Grid>\n            </Grid>\n        </>\n    );\n};\nexport default DiseaseTraitPortal;\n","/**\n * SNPPortal.tsx: the SNP/QTL portal page.\n */\n\nimport React from 'react';\nimport { AppBar } from '@zscreen/psychscreen-ui-components';\nimport { useNavigate } from 'react-router-dom';\nimport { PORTALS } from '../../App';\n \nconst SNPPortal: React.FC = () => {\n    const navigate = useNavigate();\n    return (\n        <>\n            <AppBar\n                onDownloadsClicked={() => navigate(\"/downloads\")}\n                onHomepageClicked={() => navigate(\"/\")}\n                onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\n                style={{ marginBottom: \"63px\" }}\n                centered={true}\n            />\n        </>\n    );\n};\nexport default SNPPortal;\n","/**\n * GenePortal.tsx: the gene portal page.\n */\n// import { DenseBigBed, EmptyTrack, FullBigWig } from 'umms-gb';\n //import { BigWigData, BigBedData, BigZoomData } from \"bigwig-reader\";\n import React, { useState, useCallback } from 'react';\n import { AppBar } from '@zscreen/psychscreen-ui-components';\n import { useNavigate, useLocation } from 'react-router-dom';\n import { Grid, Container, Slide } from '@mui/material';\n \n import { TabletAppBar } from '@zscreen/psychscreen-ui-components';\n import { Typography, Button } from '@zscreen/psychscreen-ui-components';\n import CheckIcon from '@mui/icons-material/Check';\n import { SearchBox, HorizontalCard } from '@zscreen/psychscreen-ui-components';\n import { useTheme, useMediaQuery } from '@material-ui/core';\n import { PORTALS } from '../../../App';\n import { Logo } from '../../../mobile-portrait/HomePage/HomePage';\n import GeneBCRE from '../../../assets/gene-bcre.png';\n import CircularProgress from '@mui/material/CircularProgress';\n \n\n\nconst GENE_AUTOCOMPLETE_QUERY = `\n query suggest($id: String!, $assembly: String!) {\n     suggest(id: $id, assembly: $assembly, limit: 5) {\n         id\n         coordinates {\n             chromosome\n             start\n             end\n         }\n         ...on Gene {\n             name\n         }\n         ...on Transcript {\n             name\n         }\n         __typename\n     }\n }\n `;\n\n const GenePortal: React.FC = (props) => {\n    const navigate = useNavigate();\n    const theme = useTheme();\n    const { state }: any = useLocation();\n    const { searchvalue } = state ? state : { searchvalue: ''}     \n    const [ val, setVal ] = useState<string>(searchvalue)         \n    const [ fetching, setFetching ] = useState<boolean>(false)         \n    const [ geneCards, setgeneCards] = useState<{cardLabel: string, val: string, cardDesc: string}[] | undefined>(undefined)\n   \n    const onSearchChange = useCallback(\n        async (value: any) => {\n      \n            setFetching(true)\n            \n            const response = await fetch('https://psychscreen.api.wenglab.org/graphql', {\n                method: 'POST',\n                body: JSON.stringify({\n                    query: GENE_AUTOCOMPLETE_QUERY,\n                    variables: {\n                        assembly: \"GRCh38\",\n                        id: value,\n                    },\n                }),\n                headers: { 'Content-Type': 'application/json' },\n            });\n            let genesSuggestion = (await response.json()).data?.suggest\n            \n            if(genesSuggestion && genesSuggestion.length>0)\n            {\n                let r = genesSuggestion.map((g: any)=>{\n                    return {\n                        val: g.id+\"/\"+g.coordinates.chromosome+\"/\"+g.coordinates.start+\"/\"+g.coordinates.end ,//.split(\".\")[0],\n                        cardDesc: g.id, //.split(\".\")[0],\n                        cardLabel: g.name\n                    }\n                })\n                setgeneCards(r)\n            }  else if(genesSuggestion && genesSuggestion.length===0){\n                setgeneCards([])\n            }\n            setFetching(false)\n        },\n        [searchvalue]\n    );\n    return (\n        <>\n            {  //show vertical app bar only for mobile view \n                useMediaQuery(theme.breakpoints.down('xs')) ? \n                    <TabletAppBar\n                        onDownloadsClicked={() => navigate(\"/psychscreen/downloads\")}\n                        onHomepageClicked={() => navigate(\"/\")}\n                        onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\n                        style={{ marginBottom: \"63px\" }}\n                        title={<Logo /> as any}\n                    />\n                    :<AppBar\n                        centered={true}\n                        onDownloadsClicked={() => navigate(\"/downloads\")}\n                        onHomepageClicked={() => navigate(\"/\")}\n                        onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\n                    /> \n            }   \n            <Grid container {...props}> \n                <Grid item sm={0}  md={1} lg={2} xl={2}></Grid>\n                <Grid item sm={8} md={6} lg={5} xl={4}>\n                    {useMediaQuery(theme.breakpoints.down('sm')) && <Container style={{ marginTop: \"130px\" }}>\n                            <img alt=\"Gene bCRE portal\" src={GeneBCRE} style={{ width: \"70%\" ,height: \"100%\" }} />\n                    </Container>}\n                    <Container  style={{ width:\"741px\", marginTop: \"147px\" }} fixed>\n                        <Typography\n                            type=\"display\"\n                            size=\"medium\"\n                            style={{ fontWeight: 700, fontSize: \"48px\", lineHeight: \"57.6px\", letterSpacing: \"0.5px\", marginBottom: \"16px\" }}\n                        >\n                            Gene/bCRE Portal\n                        </Typography>\n                        <br/>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"414px\" }}\n                        >\n                            Explore gene expression and regulatory element activity in the fetal and adult brain at bulk and single-cell resolution. Visualize gene/bCRE\n                            links based on PsychENCODE QTLs and single cell co-expression analyses.\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> Gene expression in 11 brain regions\n                        </Typography>\n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> 23 fetal, adolescent, and adult time points covered\n                        </Typography>                        \n                        <Typography\n                            type=\"body\"\n                            size=\"large\"\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                        >\n                            <CheckIcon style={{ marginRight: \"9px\" }} /> 761,984 brain regulatory elements\n                        </Typography>\n                        <br/>\n                        <br/>\n                        <SearchBox\n                            value={val}\n                            onChange={\n                            e => { \n                                setVal(e.target.value)       \n                            }}\n                            onSearchButtonClick={() => { \n                                if(val !== ''){\n                                    onSearchChange(val)               \n                                }   \n                            }}                \n                            helperText={\"e.g. sox4, gapdh\"}                            \n                        />\n\n                    </Container>\n                   \n                </Grid>\n                {useMediaQuery(theme.breakpoints.up('md'))  && <Grid item sm={4} md={4} lg={3} xl={3}>\n                    {!geneCards && !fetching ? ( \n                            <Container style={{ marginTop: \"170px\" }}>\n                                <img alt=\"gene/bcre portal\" src={GeneBCRE} style={{ width: \"100%\" ,height: \"100%\" }} />\n                            </Container>\n                        ): fetching ? ( <Container style={{ marginLeft: \"12px\", marginTop: \"150px\" }}> <> \n                        <Typography\n                                               type=\"body\"\n                                               size=\"large\"\n                                               style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\n                                           >\n                                                   Loading Data...\n                                           </Typography>\n                                           <br/>\n                       <CircularProgress color=\"inherit\"/>\n                       \n                        </>  </Container>) :  ( \n                            <>\n                            {geneCards!!.length>0 && <Slide direction=\"up\" in timeout={1000}>\n                                <Container style={{ marginLeft: \"12px\", marginTop: \"150px\" }}>            \n                                    {<HorizontalCard width={500}\n                                        onCardClick={(v?: string) => {\n                                            let f = geneCards!!.find((g: any)=> g.val===v)\n                                            navigate(`/psychscreen/gene/${f?.cardLabel}`, { state: { geneid: v!!.split(\"/\")[0].split(\".\")[0], chromosome: v!!.split(\"/\")[1] , start:  v!!.split(\"/\")[2] , end: v!!.split(\"/\")[3] } })\n                                        }}\n                                        cardContentText={geneCards!!} \n                                    />  }          \n                                </Container>\n                            </Slide> } \n                            {geneCards!!.length===0 &&\n                                <Container style={{ marginLeft: \"12px\", marginTop: \"150px\" }}>            \n                                    {'Loading...'  }          \n                                </Container>\n                         } \n                            </>           \n                        )}\n                </Grid>}\n              \n                <Grid item sm={0} md={1} lg={2} xl={3} ></Grid>\n            </Grid>\n            <br/>\n            <br/>\n            <br/>\n            <Grid container>\n                <Grid item sm={1}  md={2} lg={3} xl={3}></Grid>\n                <Grid item sm={8} md={6} lg={5} xl={4}>\n                    <Button bvariant={\"outlined\"}  btheme=\"light\" onClick={()=>{\n                        navigate(`/psychscreen/gene/gtexumap`)\n\n                    }} >{'GTEx Umap Plots'}</Button>\n                </Grid>\n            </Grid>\n         \n        </>\n    );\n};\nexport default GenePortal;\n","/**\n * SingleCellPortal.tsx: the single cell portal page.\n */\n\nimport React from 'react';\nimport { AppBar } from '@zscreen/psychscreen-ui-components';\nimport { useNavigate } from 'react-router-dom';\nimport { PORTALS } from '../../App';\n \nconst SingleCellPortal: React.FC = () => {\n    const navigate = useNavigate();\n    return (\n        <>\n            <AppBar\n                onDownloadsClicked={() => navigate(\"/downloads\")}\n                onHomepageClicked={() => navigate(\"/\")}\n                onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\n                style={{ marginBottom: \"63px\" }}\n                centered={true}\n            />\n        </>\n    );\n};\nexport default SingleCellPortal;\n","import React, { useState } from 'react';\r\nimport { Grid, Container, CircularProgress } from '@mui/material';\r\nimport { Typography, Button, CustomizedTable } from '@zscreen/psychscreen-ui-components';\r\nimport { GridProps } from '@mui/material';\r\n\r\ntype GeneAssociation = {\r\n    hsq: number,\r\n    twas_p: number,\r\n    twas_bonferroni: number,\r\n    dge_log2fc: number,\r\n    gene_id: string,\r\n    gene_name: string,        \r\n    dge_fdr: number\r\n}\r\n\r\nexport type GeneAssociationsProps =  GridProps & {\r\n    disease: string,\r\n    data: GeneAssociation[]\r\n};\r\n\r\n/*const GENE_ASSOCIATION_DATA = Array(10).fill({\r\n    Symbol: 'DRD2',\r\n    'Overall Association Score': 0.60,\r\n    'Genetic Associations': 'No Data',\r\n    'Text Mining': 0.08,\r\n    'RNA Expression': 'No data'\r\n});*/\r\n\r\nconst GeneAssociations: React.FC<GeneAssociationsProps> = props => {\r\n    const [ table, setTable ] = useState(1);\r\n   \r\n    const tabledata = props.data.map((d: GeneAssociation)=>{\r\n        return [{header: 'Gene Id', value: d.gene_id},\r\n            {header: 'Gene Name', value: d.gene_name},\r\n            {header: 'Hsq', value: d.hsq},\r\n            {header:'Twas P Value',value: d.twas_p},                            \r\n            {header: 'Twas Bonferroni', value: d.twas_bonferroni},\r\n            {header: 'Dge Fdr', value: d.dge_fdr},                           \r\n            {header: 'Dge Log2Fc', value: d.dge_log2fc                         \r\n        }]\r\n    })\r\n\r\n    return (        \r\n        <Grid container {...props}>    \r\n            <Grid item sm={12}>\r\n                <Container style={{ marginTop: \"50px\", marginLeft: \"150px\", width: \"800px\" }}>\r\n                    <Typography\r\n                        type=\"body\"\r\n                        size=\"large\"\r\n                        style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\" }}\r\n                    >\r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean cursus turpis a orci volutpat, id congue leo laoreet. Nulla facilisi. Duis sit amet lorem faucibus, venenatis dui a, ultricies mi. In hac habitasse platea dictumst. Vestibulum ac laoreet tortor. \r\n                    </Typography>                \r\n                    <Button bvariant={table===1 ? \"filled\" : \"outlined\"}  btheme=\"light\" onClick={()=>{ setTable(1)}} >Table 1</Button>&nbsp;&nbsp;&nbsp;\r\n                    <Button bvariant={table===2 ? \"filled\" : \"outlined\"} btheme=\"light\"  onClick={()=>{ setTable(2)}} >Table 2</Button>&nbsp;&nbsp;&nbsp;\r\n                    <br/>\r\n                    <br/>\r\n                    {props.data ? <CustomizedTable style={{ width: \"max-content\" }}  tabledata={tabledata}/>: <CircularProgress color='inherit'/>}\r\n                </Container>\r\n            </Grid>\r\n        </Grid>\r\n        \r\n    );\r\n};\r\nexport default GeneAssociations;\r\n","import React from 'react';\r\nimport { Grid, Container, GridProps } from '@mui/material';\r\nimport { Typography, CustomizedTable } from '@zscreen/psychscreen-ui-components';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\n/*const SNP_QTL_ASSOCIATION_DATA = Array(10).fill({\r\n    Chromosome: 'chr12',\r\n    Position: 2236139,\r\n    ID: 'rs1006737',\r\n    'In Regulatory Element?': 'No'\r\n});*/\r\n\r\n\r\ntype SnpAssociation = {\r\n    snpid: string,\r\n    n: number,\r\n    z: number,\r\n    chisq: number,\r\n    a1: string,\r\n    a2: string\r\n}\r\n\r\ntype GwasSnpAssociation = {    \r\n    snpid: string,\r\n    chrom: string,\r\n    start: number,\r\n    stop: number,\r\n    analyses_identifying_snp: number,\r\n    associated_gene: string,\r\n    riskallele: string,\r\n    association_p_val: number[]\r\n\r\n}\r\n\r\n\r\nexport type AssociatedSnpQtlProps = GridProps & {\r\n    disease: string,\r\n    data: GwasSnpAssociation[]\r\n};\r\n\r\nconst AssociatedSnpQtl: React.FC<AssociatedSnpQtlProps> = props => {    \r\n    \r\n    const SnpAssociationData = props.data && props.data.map((d: GwasSnpAssociation)=>{\r\n        return [{header: 'SNP Id', value: d.snpid},\r\n            {header: 'Chrom', value: d.chrom},\r\n            {header: 'Start',value: d.start},\r\n            {header: 'Stop', value: d.stop},\r\n            {header: 'Analyses identifying SNP', value: d.analyses_identifying_snp},\r\n            {header: 'Risk Allele', value: d.riskallele},\r\n            {header: 'Associated Gene', value: d.associated_gene},\r\n            {header: 'Association P Value', value: d.association_p_val.join(\",\")}\r\n        ]\r\n    })\r\n    return (\r\n        <Grid container {...props}>    \r\n            <Grid item sm={6}>\r\n                <Container style={{ marginTop: \"30px\", marginLeft: \"130px\", width: \"800px\" }}>\r\n                    <Typography\r\n                        type=\"body\"\r\n                        size=\"large\"\r\n                        style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\" }}\r\n                    >\r\n                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean cursus turpis a orci volutpat, id congue leo laoreet. Nulla facilisi. Duis sit amet lorem faucibus, venenatis dui a, ultricies mi. In hac habitasse platea dictumst. Vestibulum ac laoreet tortor. \r\n                    </Typography>                \r\n                    <br/>                    \r\n                    {props.data ? <CustomizedTable style={{ width: \"max-content\" }}  tabledata={SnpAssociationData}/>: <CircularProgress color='inherit'/>}\r\n                </Container>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n};\r\nexport default AssociatedSnpQtl;\r\n","\r\nimport { useParams } from \"react-router-dom\";\r\nimport Box from '@mui/material/Box';\r\nimport ArrowBack from '@mui/icons-material/ArrowBack';\r\nimport React, { useState } from 'react';\r\nimport { AppBar } from '@zscreen/psychscreen-ui-components';\r\nimport { useNavigate, useLocation } from 'react-router-dom';\r\nimport { Grid, Container, GridProps } from '@mui/material';\r\nimport { Typography, Button } from '@zscreen/psychscreen-ui-components';\r\nimport GeneAssociations from \"./GeneAssociations\";\r\nimport AssociatedSnpQtl from \"./AssociatedSnpQtl\";\r\nimport { DISEASE_CARDS } from \"./DiseaseTraitPortal\";\r\nimport { gql, useQuery } from \"@apollo/client\";\r\nimport { PORTALS } from \"../../../App\";\r\nconst AssociatedSnpQuery = gql`\r\nquery gwassnpAssoQuery(\r\n    $disease: String!,\r\n    $snpid: String,\r\n    $limit: Int,\r\n    $offset: Int\r\n) {\r\n    gwassnpAssociationsQuery(disease: $disease,snpid: $snpid, limit:$limit, offset:$offset) { \r\n        chrom\r\n        stop\r\n        snpid\r\n        start\r\n        associated_gene\r\n        association_p_val\r\n        analyses_identifying_snp\r\n        riskallele\r\n    }\r\n}\r\n`\r\n\r\nconst AssociatedGenesQuery = gql`\r\nquery genesAssoQuery(\r\n    $disease: String!,\r\n    $gene_id: String,\r\n    $limit: Int,\r\n    $offset: Int\r\n) {\r\n    genesAssociationsQuery(disease: $disease,gene_id: $gene_id, limit:$limit, offset:$offset) { \r\n        hsq\r\n        twas_p\r\n        twas_bonferroni\r\n        dge_log2fc\r\n        gene_id\r\n        gene_name\r\n        disease\r\n        dge_fdr\r\n    }\r\n}\r\n`\r\nconst DiseaseTraitDetails: React.FC<GridProps> = (props) => {\r\n    const { disease } = useParams();\r\n    const navigate = useNavigate();  \r\n    const [page, setPage] = useState<number>(0);\r\n    const { state }: any = useLocation();\r\n    const { searchvalue } = state ? state : { searchvalue: ''} \r\n    \r\n    const diseaseLabel = disease && DISEASE_CARDS.find(d=>d.val===disease)?.cardLabel\r\n    const { data } = useQuery(AssociatedSnpQuery, {\t\t\r\n        variables: {\r\n                disease: (disease || ''), limit: 1000\r\n            }\r\n        });\r\n    const { data: genesdata } = useQuery(AssociatedGenesQuery, {\t\t\r\n            variables: {\r\n                    disease: (disease || ''), limit: 1000\r\n                }\r\n        });\r\n    return (\r\n        <>\r\n            <AppBar\r\n                centered\r\n                onDownloadsClicked={() => navigate(\"/downloads\")}\r\n                onHomepageClicked={() => navigate(\"/\")}\r\n                onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\r\n                style={{ marginBottom: \"63px\" }}\r\n            />\r\n            <Grid container {...props}>  \r\n                <Grid item sm={1} md={1} lg={2} xl={2.5}></Grid>\r\n                <Grid item sm={10} md={10} lg={7} xl={6}>\r\n                    <Container style={{marginTop: \"50px\", marginLeft: \"100px\", width: \"841px\" }}>\r\n                        <ArrowBack onClick={()=>{                            \r\n                            navigate(\"/psychscreen/traits\", { state: { searchvalue: searchvalue } } )\r\n                        }} style={{ width: \"70px\", height: \"70px\", color: \"#E0E0E0\" }}/>\r\n                    </Container>\r\n                </Grid>  \r\n                <Grid item sm={1}  md={1} lg={3} xl={3}></Grid>\r\n                <Grid item sm={1}  md={1} lg={2} xl={2.5}></Grid>\r\n                <Grid item  sm={10}  md={10} lg={7} xl={6}>\r\n                    <Container style={{ marginTop: \"80px\", marginLeft: \"100px\", width: \"841px\" }}>\r\n                        \r\n                        <Typography\r\n                            type=\"display\"\r\n                            size=\"medium\"\r\n                            style={{ fontWeight: 700, fontSize: \"48px\", lineHeight: \"57.6px\", letterSpacing: \"0.5px\", marginBottom: \"16px\"  }}\r\n                        >\r\n                            {diseaseLabel}\r\n                        </Typography>\r\n                        <br/>\r\n                        <Typography\r\n                            type=\"body\"\r\n                            size=\"large\"\r\n                            style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\" }}\r\n                        >\r\n                            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean cursus turpis a orci volutpat, id congue leo laoreet. Nulla facilisi. Duis sit amet lorem faucibus, venenatis dui a, ultricies mi. In hac habitasse platea dictumst. Vestibulum ac laoreet tortor. \r\n                        </Typography>\r\n                        <br/>\r\n                        <Button bvariant={page===0 ? \"filled\" : \"outlined\"} btheme=\"light\" onClick={()=>{ setPage(0);}} >Overview</Button>&nbsp;&nbsp;&nbsp;\r\n                        {genesdata && genesdata.genesAssociationsQuery.length>0 && <Button bvariant={page===1 ? \"filled\" : \"outlined\"}  btheme=\"light\" onClick={()=>{ setPage(1); }} >Gene Associations</Button>}&nbsp;&nbsp;&nbsp;\r\n                        {data && data.gwassnpAssociationsQuery.length>0 && <Button bvariant={page===2 ? \"filled\" : \"outlined\"}  btheme=\"light\" onClick={()=>{ setPage(2)}} >{'Associated SNP & xQTL'}</Button>}\r\n                            \r\n                    </Container>\r\n                </Grid>\r\n                <Grid item sm={1}  md={1} lg={3} xl={3}></Grid>\r\n                { page === 0 && (\r\n                    <>\r\n                        <Grid item sm={1}  md={1} lg={2} xl={2.5}></Grid>\r\n                        <Grid item sm={10}  md={10} lg={7} xl={6}>\r\n                            <Container style={{ marginTop: \"50px\", marginLeft: \"150px\" }}>\r\n                                <Typography\r\n                                    type=\"body\"\r\n                                    size=\"large\"\r\n                                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"860px\" }}\r\n                                >\r\n                                    Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean cursus turpis a orci volutpat, id congue leo laoreet. Nulla facilisi. Duis sit amet lorem faucibus, venenatis dui a, ultricies mi. In hac habitasse platea dictumst. Vestibulum ac laoreet tortor. Nullam blandit velit ac leo facilisis venenatis. Vestibulum scelerisque tincidunt nisi, id volutpat lectus. Phasellus ultrices laoreet luctus. Etiam aliquet interdum lobortis. Phasellus placerat ullamcorper arcu, id elementum neque placerat ac. Duis sagittis pretium mollis. Morbi venenatis nisi dapibus ligula dignissim dapibus.\r\n                                </Typography>\r\n                                <Typography\r\n                                    type=\"body\"\r\n                                    size=\"large\"\r\n                                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"860px\"  }}\r\n                                >\r\n                                    Aliquam lacinia magna blandit odio fermentum tempor. Etiam pulvinar lacinia justo ac tempus. Donec tristique id sapien et pulvinar. Sed fermentum rutrum neque non dapibus. Pellentesque consequat dolor arcu, et tincidunt ante eleifend id. Donec lorem dolor, volutpat vel orci id, placerat dictum lectus. Proin sit amet sem nec leo dapibus rutrum cursus vel risus. Mauris ac augue placerat, vehicula mauris in, consectetur eros. Suspendisse auctor eget augue quis scelerisque. Aliquam ut ligula risus. Vivamus consequat libero est, eget sollicitudin mauris finibus sed. Curabitur consectetur ornare diam ut faucibus. Vestibulum sodales ex ac dui congue, et congue magna malesuada.\r\n                                </Typography>\r\n                                <Typography\r\n                                    type=\"body\"\r\n                                    size=\"large\"\r\n                                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"860px\"  }}\r\n                                >\r\n                                    Nulla scelerisque fermentum diam, vel mollis purus feugiat nec. Donec ac enim lorem. Nulla facilisi. Suspendisse sollicitudin suscipit est eu ullamcorper. Aliquam tempor pulvinar imperdiet. Curabitur a pretium diam, vel tempor quam. Donec vitae faucibus urna. Morbi sit amet lacus vel sem mollis ullamcorper sed quis enim. Cras semper euismod lectus nec tincidunt. Cras ullamcorper aliquet massa non tempor.\r\n                                </Typography>\r\n                                <br/>\r\n                                <Box\r\n                                    sx={{\r\n                                    width: \"860px\",\r\n                                    height: \"512px\",\r\n                                    backgroundColor: '#F6F6F6'            \r\n                                }}/>\r\n                                <br/>\r\n                                <Typography\r\n                                    type=\"body\"\r\n                                    size=\"large\"\r\n                                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"860px\"  }}\r\n                                >\r\n                                    Pellentesque nec lectus a libero luctus hendrerit vel facilisis justo. Vestibulum imperdiet augue non sodales mollis. Curabitur id lorem ac ipsum euismod mollis. Sed id felis eu risus aliquet sollicitudin. Praesent egestas arcu sollicitudin arcu tristique scelerisque. Quisque maximus blandit eros quis vulputate. Phasellus tortor arcu, eleifend non consequat eu, elementum sit amet turpis. Donec vitae blandit enim, ac congue leo. Mauris ac arcu semper, lacinia mi id, sodales eros. Cras congue hendrerit rhoncus. Fusce gravida, nulla ut gravida iaculis, mi dui consectetur ante, sit amet pharetra tortor nisi in mauris. Phasellus ac sapien massa. Aliquam pulvinar, ante eget finibus fermentum, urna sem convallis ligula, vitae laoreet nibh mauris sed quam. Fusce ut nisi id lacus gravida placerat.\r\n                                </Typography>\r\n                                <Typography\r\n                                    type=\"body\"\r\n                                    size=\"large\"\r\n                                    style={{ fontSize: \"16px\", lineHeight: \"24px\", fontWeight: 400, letterSpacing: \"0.3%\", marginBottom: \"16px\", width: \"860px\"  }}\r\n                                >\r\n                                    Fusce in dictum leo. Mauris luctus neque eu nisl hendrerit rhoncus. In ultricies nulla vitae pellentesque placerat. Cras aliquet, leo eget tempus fermentum, risus massa finibus urna, in congue mi nulla eu tortor. In euismod non tellus at sagittis. Sed quis iaculis leo. Quisque tincidunt mi efficitur vulputate venenatis. Praesent lacus augue, dignissim quis fringilla sit amet, sagittis id nisi. Donec bibendum orci aliquam, luctus orci sit amet, porttitor mauris. Nam nec mauris nec mi venenatis dictum et sit amet ipsum. Aenean placerat sollicitudin urna id vehicula.\r\n                                </Typography>\r\n                            </Container>\r\n                        </Grid>\r\n                        <Grid item sm={1}  md={1} lg={3} xl={3}></Grid>\r\n                    </>\r\n                )}\r\n                { page === 1 && genesdata && genesdata.genesAssociationsQuery.length>0 && (\r\n                    <>\r\n                        <Grid item sm={1}  md={1} lg={2} xl={2.5}></Grid>\r\n                        <Grid sm={10}  md={10} lg={7} xl={6}>\r\n                            <GeneAssociations disease={disease || ''} data={genesdata.genesAssociationsQuery} />\r\n                        </Grid>\r\n                        <Grid item sm={1}  md={1} lg={3} xl={3}></Grid>\r\n                    </>\r\n\r\n                )}\r\n                { page === 2 && data && data.gwassnpAssociationsQuery.length>0 && (\r\n                    <>\r\n                        <Grid item sm={1}  md={1} lg={2} xl={2.5}></Grid>\r\n                        <Grid item sm={10}  md={10} lg={7} xl={6}>\r\n                            <AssociatedSnpQtl disease={disease || ''} data={data.gwassnpAssociationsQuery}/>\r\n                        </Grid>\r\n                        <Grid item sm={1}  md={1} lg={3} xl={3}></Grid>\r\n                    </>\r\n                )}\r\n            </Grid>\r\n        </>\r\n    );\r\n}\r\nexport default DiseaseTraitDetails;\r\n","import { RefObject } from 'react';\n\n/**\n * Smooths the input data with a normal kernel density estimator.\n * @param input: the input vector to smooth.\n * @param sampleDomain: the domain over which to smooth; defaults to the domain of the input data.\n * @param bandWidth: the standard deviation of the kernel; defaults to 1/20 of the domain width.\n * @param sampleRate: the rate at which to sample the density; defaults to 1/100 of the domain width.\n */\nexport function standardNormalKernel(\n    input: number[],\n    sampleDomain: number[] = [],\n    bandWidth: number = -1.0,\n    sampleRate: number = -1.0\n): number[] {\n    const minimum = 2 === sampleDomain.length ? sampleDomain[0] : Math.min(...input);\n    const maximum = 2 === sampleDomain.length ? sampleDomain[1] : Math.max(...input);\n    if (-1.0 === bandWidth) bandWidth = (maximum - minimum) / 30.0;\n    if (-1.0 === sampleRate) sampleRate = (maximum - minimum) / 100.0;\n    const samplePositions: number[] = [];\n    for (let i = minimum + sampleRate; i <= maximum; i += sampleRate) samplePositions.push(i);\n    const retval = samplePositions.map(x => 0.0);\n    input.forEach(x => {\n        let values = gaussian(Math.sqrt(2.0 * Math.PI) * bandWidth, x, bandWidth, samplePositions);\n        values.forEach((x, i) => {\n            retval[i] += x;\n        });\n    });\n    return retval;\n}\n\n/**\n * Samples a normal distribution at the given positions.\n * @param amplitude the amplitude of the distribution.\n * @param mean the mean of the distribution.\n * @param stdev the standard deviation of the distribution.\n * @param positions the positions at which to sample the distribution.\n */\nexport function gaussian(amplitude: number, mean: number, stdev: number, positions: number[]): number[] {\n    const a = amplitude / (Math.sqrt(2.0 * Math.PI) * stdev);\n    const d = 2.0 * stdev * stdev;\n    return positions.map(x => a * Math.exp((-(x - mean) * (x - mean)) / d));\n}\n\nexport function groupByThenBy<T, U>(\n    data: T[],\n    keyA: (v: T) => string,\n    keyB: (v: T) => string,\n    val: (v: T) => U\n): Map<string, Map<string, U[]>> {\n    const results: Map<string, Map<string, U[]>> = new Map();\n    data.forEach(d => {\n        const kA = keyA(d),\n            kB = keyB(d);\n        if (results.get(kA) === undefined) results.set(kA, new Map<string, U[]>());\n        const mA = results.get(kA)!;\n        if (mA.get(kB) === undefined) mA.set(kB, []);\n        mA.get(kB)!.push(val(d));\n    });\n    return results;\n}\n\nexport function median(values: number[]): number {\n    if (values.length === 0) return 0;\n    values = [...values].sort();\n    const half = Math.floor(values.length / 2);\n    if (values.length % 2) return values[half];\n    return (values[half - 1] + values[half]) / 2.0;\n}\n\nexport function linearTransform(d: [number, number], r: [number, number]): (v: number) => number {\n    return v => r[0] + (r[1] - r[0]) * ((v - d[0]) / (d[1] - d[0]));\n}\n\nfunction hslToRgb(h: number, s: number, l: number): [ number, number, number ] {\n    let r: number, g: number, b: number;\n    if (s === 0)\n        r = g = b = l; // achromatic\n    else {\n        const hue2rgb = (p: number, q: number, t: number): number => {\n            if (t < 0) t += 1;\n            if (t > 1) t -= 1;\n            if (t < 1 / 6) return p + (q - p) * 6 * t;\n            if (t < 1 / 2) return q;\n            if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n            return p;\n        }\n        const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        const p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n    }\n    return [ Math.round(r * 255), Math.round(g * 255), Math.round(b * 255) ];\n}\n\nexport function spacedColors(n: number, s: number = 50, l: number = 50): (i: number) => string {\n    return i => {\n        const [ r, g, b ] = hslToRgb(((i * (360 / (n || 1))) % 360) / 360, s / 100, l / 100);\n        return `rgb(${r},${g},${b})`\n    };\n}\n\nexport function assignColors(items: Set<string>): { [key: string]: string } {\n    const colors = spacedColors(items.size);\n    const r: { [key: string]: string } = {};\n    [...items].forEach((item, i) => {\n        r[item] = colors(i);\n    });\n    return r;\n}\n\nexport const FRIENDLY: Map<string, string> = new Map([]);\n\nexport const COLORS = {};\n\nexport function downloadBlob(blob: Blob, filename: string) {\n    const url = URL.createObjectURL(blob);\n    const downloadLink = document.createElement('a');\n    downloadLink.href = url;\n    downloadLink.download = filename;\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n}\n\nexport function svgData(svgNode: RefObject<SVGSVGElement>): string {\n    if (!svgNode.current) return '';\n    const svg = svgNode.current.cloneNode(true) as SVGSVGElement;\n    svg.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    const preface = '<?xml version=\"1.0\" standalone=\"no\"?>';\n    return preface + svg.outerHTML.replace(/\\n/g, '').replace(/[ ]{8}/g, '');\n}\n\nexport function svgDataE(svgNode: SVGSVGElement[], translations: ([ number, number ] | undefined)[]): string {\n    const svgs = svgNode.map(x => x.cloneNode(true) as SVGSVGElement);\n    svgs[0].setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    svgs.slice(1).forEach( (x, i) => {\n        Array.from(x.children).forEach(c => {\n            const cc = c.cloneNode(true) as SVGGElement;\n            if (translations[i]) {\n                const s = svgs[0].createSVGTransform();\n                s.setTranslate(...(translations[i] as [ number, number ]));\n                cc.transform.baseVal.appendItem(s);\n            }\n            svgs[0].getRootNode().appendChild(cc);\n        });\n    });\n    const preface = '<?xml version=\"1.0\" standalone=\"no\"?>';\n    return preface + svgs[0].outerHTML.replace(/\\n/g, '').replace(/[ ]{8}/g, '');\n}\n\nexport function downloadSVG(svg: RefObject<SVGSVGElement>, filename: string) {\n    downloadBlob(new Blob([svgData(svg)], { type: 'image/svg+xml;charset=utf-8' }), filename);\n}\n\nexport function downloadTSV(text: string, filename: string) {\n    downloadBlob(new Blob([text], { type: 'text/plain' }), filename);\n}\n","export function ticks(range: [number, number], cscale: number = 1.0): number[] {\n    const sfig = Math.pow(10.0, Math.floor(Math.log10(range[1])));\n    const r: number[] = [],\n        lrange = [Math.floor(range[0] / sfig) * sfig, Math.ceil(range[1] / sfig) * sfig];\n    for (let i = lrange[0]; i <= lrange[1]; i += sfig * cscale) {\n        r.push(i);\n    }\n    if (r.length <= 2) return range;\n    return r.length > 10 ? ticks(range, cscale * 2) : r;\n}\n","import React from 'react';\nimport { linearTransform } from '../violin/utils';\nimport { ticks } from './utils';\nimport { AxisProps } from './types';\n\nconst YAxis: React.FC<AxisProps> = props => {\n    const verticalTransform = linearTransform(props.range, [props.height * 0.9, props.height * 0.1]);\n    return (\n        <>\n            <text\n                transform=\"rotate(-90)\"\n                textAnchor=\"middle\"\n                x={-props.height / 2}\n                y={props.width * 0.2}\n                dominantBaseline=\"center\"\n                fontSize=\"150px\"\n            >\n                {props.title}\n            </text>\n            <rect height={props.height * 0.8} y={props.height * 0.1} x={props.width * 0.8} width={2} fill=\"#000000\" />\n            {ticks(props.range)\n                .filter(x => verticalTransform(x) > props.height * 0.1 && verticalTransform(x) < props.height * 0.9)\n                .map(rangeValue => (\n                    <g transform={`translate(0,${verticalTransform(rangeValue)})`} key={rangeValue}>\n                        <text textAnchor=\"end\" x={props.width * 0.6} fontSize=\"140px\" alignmentBaseline=\"middle\">\n                            {rangeValue.toFixed(Math.log10(props.range[1] + 0.01) > 1.0 ? 0 : 0)}\n                        </text>\n                        <rect width={props.width * 0.1} height={2} x={props.width * 0.7} y={-2} fill=\"#000000\" />\n                    </g>\n                ))}\n        </>\n    );\n};\nexport default YAxis;\n","import React from 'react';\nimport { TooltipProps } from './types';\n\nconst Tooltip: React.FC<TooltipProps> = props => (\n    <g transform={`translate(${props.x},${props.y})`}>\n        <rect\n            width={props.width}\n            height={props.fontSize * (Object.keys(props.content).length + 3)}\n            fill={props.fill}\n            stroke={props.stroke}\n            strokeWidth={2}\n        />\n        <text\n            fontWeight=\"bold\"\n            fontSize={props.fontSize * 1.25}\n            textAnchor=\"middle\"\n            x={props.width / 2}\n            y={props.fontSize * 1.4}\n        >\n            {props.title}\n        </text>\n        {Object.keys(props.content).map((key, i) => (\n            <React.Fragment key={i}>\n                <text\n                    fontSize={props.fontSize * 0.9}\n                    x={props.width * 0.35}\n                    y={props.fontSize * (i + 3)}\n                    fontWeight=\"bold\"\n                >\n                    {key}:\n                </text>\n                <text fontSize={props.fontSize * 0.9} x={props.width * 0.55} y={props.fontSize * (i + 3)}>\n                    {props.content[key]}\n                </text>\n            </React.Fragment>\n        ))}\n    </g>\n);\nexport default Tooltip;\n","import React from 'react';\nimport { LegendProps } from './types';\n\nconst Legend: React.FC<LegendProps> = props => (\n    <g transform={`translate(${props.x},${props.y})`}>\n        <rect\n            width={props.width}\n            height={props.fontSize * (Object.keys(props.content).length + 3)}\n            fill={props.fill}\n            stroke={props.stroke}\n            strokeWidth={2}\n        />\n        <text\n            fontWeight=\"bold\"\n            fontSize={props.fontSize * 1.25}\n            textAnchor=\"middle\"\n            x={props.width / 2}\n            y={props.fontSize * 1.4}\n        >\n            {props.title}\n        </text>\n        {Object.keys(props.content).map((key, i) => (\n            <React.Fragment key={i}>\n                <rect\n                    x={props.width * 0.1}\n                    y={props.fontSize * (i + 2.5)}\n                    width={props.fontSize * 0.8}\n                    height={props.fontSize * 0.8}\n                    fill={key}\n                />\n                <text fontSize={props.fontSize * 0.9} x={props.width * 0.18} y={props.fontSize * (i + 3.2)}>\n                    {props.content[key]}\n                </text>\n            </React.Fragment>\n        ))}\n    </g>\n);\nexport default Legend;\n","import React, { useMemo, useCallback } from 'react';\n\nimport { standardNormalKernel, median } from './utils';\nimport { linearTransform, FRIENDLY } from './utils';\nimport { YAxis } from '../axis';\nimport Tooltip from './tooltip';\nimport Legend from './legend';\nimport { ViolinPlotProps, ViolinProps, SingleViolinProps } from './types';\n// import { associateBy } from 'queryz';\n\nconst SingleViolin: React.FC<SingleViolinProps> = props => {\n    const max = useMemo(() => Math.max(...props.rendered), [props.rendered]);\n    const reversed = useMemo(() => [...props.rendered].reverse(), [props.rendered]);\n    const leftTransform = useCallback(linearTransform([0, max], [props.width * 0.5, props.width * 0.2]), [\n        max,\n        props.width,\n    ]);\n    const rightTransform = useCallback(linearTransform([0, max], [props.width * 0.5, props.width * 0.8]), [\n        max,\n        props.width,\n    ]);\n    const verticalTransform = useCallback(\n        linearTransform([0, props.rendered.length], [props.height * 0.9, props.height * 0.1]),\n        [props.rendered, props.height]\n    );\n    const left = useMemo(\n        () =>\n            props.rendered.reduce(\n                (acc, v, i) => acc + ` L ${leftTransform(v)} ${verticalTransform(i)}`,\n                `M ${props.width / 2} ${props.height * 0.9}`\n            ),\n        [props.rendered, props.width, props.height, leftTransform, verticalTransform]\n    );\n    const complete = useMemo(\n        () =>\n            reversed.reduce(\n                (acc, v, i) => acc + ` L ${rightTransform(v)} ${verticalTransform(props.rendered.length - i - 1)}`,\n                left + ` L ${props.width / 2} ${props.height * 0.1}`\n            ),\n        [reversed, rightTransform, verticalTransform, props.rendered, props.width, props.height, left]\n    );\n\n    return (\n        <g transform={`translate(${props.x},0)`}>\n            <path\n                d={complete + `L ${props.width / 2} ${props.height * 0.9}`}\n                fill={props.fill}\n                stroke={props.stroke}\n                strokeWidth={props.strokeWidth}\n                onMouseOver={props.onMouseOver}\n                onMouseOut={props.onMouseOut}\n                fillOpacity={props.fillOpacity}\n            />\n            {props.median !== undefined && (\n                <rect\n                    x={props.width * 0.4}\n                    y={verticalTransform(props.median) - props.height * 0.005}\n                    width={props.width * 0.2}\n                    height={props.height * 0.01}\n                    fill={props.stroke}\n                    fillOpacity={props.fillOpacity}\n                />\n            )}\n        </g>\n    );\n};\n\nconst Violin: React.FC<ViolinProps> = props => {\n    const keys = useMemo(\n        () =>\n            Object.keys(props.rendered)\n                .filter(x => x !== undefined)\n                .sort(),\n        [props.rendered]\n    );\n    return (\n        <g transform={`translate(${props.x},0)`}>\n            {keys.map((x: any, i) => (\n                <SingleViolin\n                    rendered={standardNormalKernel(props.rendered[x], props.domain)}\n                    width={props.width / keys.length}\n                    height={props.height}\n                    x={(i * props.width) / keys.length}\n                    fill={props.colors ? props.colors[x] : props.fill}\n                    fillOpacity={props.mousedOver === x ? 1.0 : props.fillOpacity}\n                    stroke={props.stroke}\n                    key={i}\n                    strokeWidth={+(props.strokeWidth || 1) * (props.mousedOver === x ? 2.0 : 1.0)}\n                    onMouseOver={() => props.onMousedOver && props.onMousedOver(x)}\n                    onMouseOut={() => props.onMousedOut && props.onMousedOut()}\n                    domain={props.domain}\n                />\n            ))}\n        </g>\n    );\n};\n\nconst ViolinPlot: React.FC<ViolinPlotProps> = props => {\n    const keys = useMemo(() => [...props.data.keys()].sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase())), [\n        props.data,\n    ]);\n    /* const legendContent = useMemo<Map<string, string>>( () => associateBy(\n        [ ...(props.colors?.values() || []) ], x => x, x => FRIENDLY.get(x) || x\n    ), [ props.colors, props.legendKeys ]); */\n    const mouseOverTitle = useMemo(\n        () =>\n            props.mousedOver &&\n            (props.mousedOver.inner === 'none' || props.mousedOver.outer === props.mousedOver.inner\n                ? FRIENDLY.get(props.mousedOver.outer || '') || props.mousedOver.outer\n                : `${FRIENDLY.get(props.mousedOver.outer || '') || props.mousedOver.outer}`),\n        [props.mousedOver]\n    );\n    const length = (props.tKeys || keys.length) + 4;\n\n    return (\n        <g>\n            <YAxis\n                title={props.title}\n                width={(props.width / length) * 2}\n                height={props.height / 2}\n                range={props.domain}\n            />\n            {keys.map((x, i) => (\n                <React.Fragment key={`${x}_${i}`}>\n                    <Violin\n                        {...(props as React.SVGProps<SVGPathElement>)}\n                        rendered={[...props.data.get(x)!.values()]}\n                        width={props.width / length}\n                        height={props.height / 2}\n                        x={((i + 2) * props.width) / length}\n                        fill={props.colors.get(x) || props.fill}\n                        key={i}\n                        mousedOver={props.mousedOver && props.mousedOver.outer === x ? props.mousedOver.inner : null}\n                        onMousedOver={xx =>\n                            props.onViolinMousedOver && props.onViolinMousedOver({ inner: xx, outer: x })\n                        }\n                        onMousedOut={() => props.onViolinMousedOut && props.onViolinMousedOut()}\n                        domain={props.domain}\n                        colors={[...props.data.get(x)!.values()].map(() => props.colors.get(x) || '#aaaaaa')}\n                    />\n                    <rect\n                        width={(props.width / length) * 0.8}\n                        x={((i + 2.1) * props.width) / length}\n                        y={props.height * 0.48}\n                        height={1}\n                        fill=\"#888888\"\n                    />\n                    <text\n                        key={x}\n                        fontSize=\"140px\"\n                        transform=\"rotate(-90)\"\n                        textAnchor=\"end\"\n                        y={((i + 2.5) * props.width) / length}\n                        x={-props.height / 2}\n                        height={props.width / (length - 1)}\n                        fill=\"#000000\"\n                        alignmentBaseline=\"middle\"\n                    >\n                        {FRIENDLY.get(x) || x}\n                    </text>\n                </React.Fragment>\n            ))}\n            <Legend\n                x={props.width}\n                y={props.height * 0.1}\n                width={props.width / length}\n                title={props.legendTitle || ''}\n                content={{}}\n                fontSize={12}\n                fill=\"#eeeeee\"\n            />\n            {props.mousedOver && props.mousedOver.outer !== null && (\n                <Tooltip\n                    width={(props.width / length) * 6}\n                    x={\n                        ((keys.indexOf(props.mousedOver.outer) + (length - 1) > 2 &&\n                        keys.indexOf(props.mousedOver.outer) === length - 2\n                            ? -0.75\n                            : 1.75) *\n                            props.width) /\n                        length\n                    }\n                    y={props.height * 0.1}\n                    fill=\"#eeeeee\"\n                    stroke=\"#000000\"\n                    title={mouseOverTitle || ''}\n                    content={{\n                        n:\n                            props.data\n                                .get(props.mousedOver.outer)\n                                ?.get('all')\n                                ?.length.toString() || '',\n                        median: median(props.data.get(props.mousedOver.outer)?.get('all') || [0]).toFixed(2),\n                        maximum: Math.max(...(props.data.get(props.mousedOver.outer)?.get('all') || [0])).toFixed(2),\n                        minimum: Math.min(...(props.data.get(props.mousedOver.outer)?.get('all') || [0])).toFixed(2),\n                    }}\n                    fontSize={90}\n                />\n            )}\n        </g>\n    );\n};\nexport default ViolinPlot;\n","\r\nexport const tissueColors = new Map();\r\n\r\ntissueColors.set(\"Adipose - Subcutaneous\",\"rgb(242, 104, 34)\")\r\ntissueColors.set(\"Adipose - Visceral (Omentum)\",\"rgb(251, 169, 26)\")\r\ntissueColors.set(\"Adrenal Gland\",\"rgb(94, 186, 71)\")\r\n    tissueColors.set(\"Artery - Aorta\",\"rgb(241, 88, 89)\")\r\n    tissueColors.set(\"Artery - Coronary\",\"rgb(248, 167, 153)\")\r\n    tissueColors.set(\"Artery - Tibial\",\"rgb(238, 33, 36)\")\r\n    tissueColors.set(\"Bladder\",\"rgb(169, 29, 34)\")\r\n    tissueColors.set(\"Brain - Amygdala\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Anterior cingulate cortex (BA24)\",\"rgb(235, 231, 2)\")\r\n    tissueColors.set(\"Brain - Caudate (basal ganglia)\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Cerebellar Hemisphere\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Cerebellum\",\" rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Cortex\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Frontal Cortex (BA9)\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Hippocampus\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Hypothalamus\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Nucleus accumbens (basal ganglia)\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Putamen (basal ganglia)\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Spinal cord (cervical c-1)\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Brain - Substantia nigra\",\"rgb(235, 231, 27)\")\r\n    tissueColors.set(\"Breast - Mammary Tissue\",\"rgb(74, 194, 197)\")\r\n    tissueColors.set(\"Cells - Cultured fibroblasts\",\"rgb(177, 226, 244)\")\r\n    tissueColors.set(\"Cells - EBV-transformed lymphocytes\",\"rgb(163, 114, 177)\")\r\n    tissueColors.set(\"Cervix - Ectocervix\",\"rgb(252, 204, 203)\")\r\n    tissueColors.set(\"Cervix - Endocervix\",\"rgb(203, 170, 209)\")\r\n    tissueColors.set(\"Colon - Sigmoid\",\"rgb(238, 187, 119)\")\r\n    tissueColors.set(\"Colon - Transverse\",\"rgb(202, 152, 85)\")\r\n    tissueColors.set(\"Esophagus - Gastroesophageal Junction\",\"rgb(139, 114, 87)\")\r\n    tissueColors.set(\"Esophagus - Mucosa\",\"rgb(82, 38, 14)\")\r\n    tissueColors.set(\"Esophagus - Muscularis\",\"rgb(187, 153, 136)\")\r\n    tissueColors.set(\"Fallopian Tube\",\"rgb(252, 204, 203)\")\r\n    tissueColors.set(\"Heart - Atrial Appendage\",\"rgb(122, 82, 161)\")\r\n    tissueColors.set(\"Heart - Left Ventricle\",\"rgb(101, 44, 144)\")\r\n    tissueColors.set(\"Kidney - Cortex\",\"rgb(116, 202, 193)\")\r\n    tissueColors.set(\"Kidney - Medulla\",\"rgb(121, 200, 171)\")\r\n    tissueColors.set(\"Liver\",\"rgb(170, 187, 102)\")\r\n    tissueColors.set(\"Lung\",\"rgb(164, 205, 57)\")\r\n    tissueColors.set(\"Minor Salivary Gland\",\"rgb(153, 187, 137)\")\r\n    tissueColors.set(\"Muscle - Skeletal\",\"rgb(171, 168, 212)\")\r\n    tissueColors.set(\"Nerve - Tibial\",\"rgb(253, 216, 0)\")\r\n    tissueColors.set(\"Ovary\",\"rgb(225, 174, 208)\")\r\n    tissueColors.set(\"Pancreas\",\"rgb(153, 87, 36)\")\r\n    tissueColors.set(\"Pituitary\",\"rgb(179, 216, 143)\")\r\n    tissueColors.set(\"Prostate\",\"rgb(221, 221, 22)\")\r\n    tissueColors.set(\"Skin - Not Sun Exposed (Suprapubic)\",\"rgb(58, 83, 164)\")\r\n    tissueColors.set(\"Skin - Sun Exposed (Lower leg)\",\"rgb(111, 116, 182)\")\r\n    tissueColors.set(\"Small Intestine - Terminal Ileum\",\"rgb(86, 86, 36)\")\r\n    tissueColors.set(\"Spleen\",\"rgb(119, 137, 85)\")\r\n    tissueColors.set(\"Stomach\",\"rgb(255, 221, 153)\")\r\n    tissueColors.set(\"Testis\",\"rgb(170, 171, 171)\")\r\n    tissueColors.set(\"Thyroid\",\"rgb(24, 104, 51)\")\r\n    tissueColors.set(\"Uterus\",\"rgb(200, 120, 178)\")\r\n    tissueColors.set(\"Vagina\",\"rgb(239, 88, 152)\")\r\n    tissueColors.set(\"Whole Blood\",\"rgb(221, 66, 151)\")\r\n    export const tissueTypeColors = new Map();\r\n\r\n    tissueTypeColors.set(\"Adipose-Subcutaneous\",\"rgb(242, 104, 34)\")\r\n    tissueTypeColors.set(\"Adipose-Visceral-(Omentum)\",\"rgb(251, 169, 26)\")\r\n    tissueTypeColors.set(\"Adrenal-Gland\",\"rgb(94, 186, 71)\")\r\n    tissueTypeColors.set(\"Artery-Aorta\",\"rgb(241, 88, 89)\")\r\n    tissueTypeColors.set(\"Artery-Coronary\",\"rgb(248, 167, 153)\")\r\n    tissueTypeColors.set(\"Artery-Tibial\",\"rgb(238, 33, 36)\")\r\n    tissueTypeColors.set(\"Bladder\",\"rgb(169, 29, 34)\")\r\n    tissueTypeColors.set(\"Brain-Amygdala\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Anterior-cingulate-cortex-(BA24)\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Caudate-(basal-ganglia)\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Cerebellar-Hemisphere\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Cerebellum\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Cortex\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Frontal-Cortex-(BA9)\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Hippocampus\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Hypothalamus\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Nucleus-accumbens-(basal-ganglia)\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Putamen-(basal-ganglia)\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Spinal-cord-(cervical-c-1)\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Brain-Substantia-nigra\",\"rgb(235, 231, 27)\")\r\n    tissueTypeColors.set(\"Breast-Mammary-Tissue\",\"rgb(74, 194, 197)\")\r\n    tissueTypeColors.set(\"Cells-Cultured-fibroblasts\",\"rgb(177, 226, 244)\")\r\n    tissueTypeColors.set(\"Cells-EBV-transformed-lymphocytes\",\"rgb(163, 114, 177)\")\r\n    tissueTypeColors.set(\"Cervix-Ectocervix\",\"rgb(252, 204, 203)\")\r\n    tissueTypeColors.set(\"Cervix-Endocervix\",\"rgb(203, 170, 209)\")\r\n    tissueTypeColors.set(\"Colon-Sigmoid\",\"rgb(238, 187, 119)\")\r\n    tissueTypeColors.set(\"Colon-Transverse\",\"rgb(202, 152, 85)\")\r\n    tissueTypeColors.set(\"Esophagus-Gastroesophageal-Junction\",\"rgb(139, 114, 87)\")\r\n    tissueTypeColors.set(\"Esophagus-Mucosa\",\"rgb(82, 38, 14)\")\r\n    tissueTypeColors.set(\"Esophagus-Muscularis\",\"rgb(187, 153, 136)\")\r\n    tissueTypeColors.set(\"Fallopian-Tube\",\"rgb(252, 204, 203)\")\r\n    tissueTypeColors.set(\"Heart-Atrial-Appendage\",\"rgb(122, 82, 161)\")\r\n    tissueTypeColors.set(\"Heart-Left-Ventricle\",\"rgb(101, 44, 144)\")\r\n    tissueTypeColors.set(\"Kidney-Cortex\",\"rgb(116, 202, 193)\")\r\n    tissueTypeColors.set(\"Kidney-Medulla\",\"rgb(121, 200, 171)\")\r\n    tissueTypeColors.set(\"Liver\",\"rgb(170, 187, 102)\")\r\n    tissueTypeColors.set(\"Lung\",\"rgb(164, 205, 57)\")\r\n    tissueTypeColors.set(\"Minor-Salivary-Gland\",\"rgb(153, 187, 137)\")\r\n    tissueTypeColors.set(\"Muscle-Skeletal\",\"rgb(171, 168, 212)\")\r\n    tissueTypeColors.set(\"Nerve-Tibial\",\"rgb(253, 216, 0)\")\r\n    tissueTypeColors.set(\"Ovary\",\"rgb(225, 174, 208)\")\r\n    tissueTypeColors.set(\"Pancreas\",\"rgb(153, 87, 36)\")\r\n    tissueTypeColors.set(\"Pituitary\",\"rgb(179, 216, 143)\")\r\n    tissueTypeColors.set(\"Prostate\",\"rgb(221, 221, 221)\")\r\n    tissueTypeColors.set(\"Skin-Not-Sun-Exposed-(Suprapubic)\",\"rgb(58, 83, 164)\")\r\n    tissueTypeColors.set(\"Skin-Sun-Exposed-(Lower-leg)\",\"rgb(111, 116, 182)\")\r\n    tissueTypeColors.set(\"Small-Intestine-Terminal-Ileum\",\"rgb(86, 86, 36)\")\r\n    tissueTypeColors.set(\"Spleen\",\"rgb(119, 137, 85)\")\r\n    tissueTypeColors.set(\"Stomach\",\"rgb(255, 221, 153)\")\r\n    tissueTypeColors.set(\"Testis\",\"rgb(170, 171, 171)\")\r\n    tissueTypeColors.set(\"Thyroid\",\"rgb(24, 104, 51)\")\r\n    tissueTypeColors.set(\"Uterus\",\"rgb(200, 120, 178)\")\r\n    tissueTypeColors.set(\"Vagina\",\"rgb(239, 88, 152)\")\r\n    tissueTypeColors.set(\"Whole-Blood\",\"rgb(221, 66, 151)\") ","\r\nimport { gql, useQuery } from '@apollo/client';\r\nimport React, {useMemo} from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport { CustomizedTable, Typography } from '@zscreen/psychscreen-ui-components';\r\n\r\nconst OpenTargetQuery = gql`\r\nquery GenePageQuery($geneId: String!) {\r\n  geneInfo(geneId: $geneId) {\r\n    id\r\n    symbol\r\n    chromosome\r\n    start\r\n    end\r\n    bioType\r\n    __typename\r\n  }\r\n  studiesAndLeadVariantsForGeneByL2G(geneId: $geneId) {\r\n    pval\r\n    yProbaModel\r\n    study {\r\n      studyId\r\n      traitReported\r\n      pubAuthor\r\n      pubDate\r\n      pmid\r\n      nInitial\r\n      nReplication\r\n      hasSumstats\r\n      __typename\r\n    }\r\n    variant {\r\n      rsId\r\n      id\r\n      __typename\r\n    }\r\n    odds {\r\n      oddsCI\r\n      oddsCILower\r\n      oddsCIUpper\r\n      __typename\r\n    }\r\n    beta {\r\n      betaCI\r\n      betaCILower\r\n      betaCIUpper\r\n      direction\r\n      __typename\r\n    }\r\n    __typename\r\n  }\r\n  colocalisationsForGene(geneId: $geneId) {\r\n    leftVariant {\r\n      id\r\n      rsId\r\n      __typename\r\n    }\r\n    study {\r\n      studyId\r\n      traitReported\r\n      pubAuthor\r\n      pubDate\r\n      pmid\r\n      hasSumstats\r\n      __typename\r\n    }\r\n    qtlStudyId\r\n    phenotypeId\r\n    tissue {\r\n      id\r\n      name\r\n      __typename\r\n    }\r\n    h3\r\n    h4\r\n    log2h4h3\r\n    __typename\r\n  }\r\n}\r\n`;\r\n\r\ntype OpenTargetsQueryResponse = {\r\n\tgeneInfo: {\r\n\t\tid: string,\r\n\t\tsymbol: string,\r\n\t\tchromosome: string,\r\n\t\tstart: number,\r\n\t\tend: number,\r\n\t\tbioType: string,\r\n\t\t__typename: string\r\n\t};\r\n\tstudiesAndLeadVariantsForGeneByL2G: {\r\n\t\tpval: number,\r\n\t\tyProbaModel: number,\r\n\t\tstudy: {\r\n\t\t\tstudyId: string,\r\n\t\t\ttraitReported: string,\r\n\t\t\tpubAuthor: string,\r\n\t\t\tpubDate: string,\r\n\t\t\tpmid: string,\r\n\t\t\tnInitial: number,\r\n\t\t\tnReplication: number,\r\n\t\t\thasSumstats: boolean,\r\n\t\t\t__typename: string\r\n\t\t};\r\n\t\tvariant: {\r\n\t\t\trsId: string,\r\n\t\t\tid: string,\r\n\t\t\t__typename: string\r\n\t\t};\r\n\t\todds: {\r\n\t\t\toddsCI: number,\r\n\t\t\toddsCILower: number,\r\n\t\t\toddsCIUpper: number,\r\n\t\t\t__typename: string,\r\n\t\t};\r\n\t\tbeta: {\r\n\t\t\tbetaCI: number,\r\n\t\t\tbetaCILower: number,\r\n\t\t\tbetaCIUpper: number,\r\n\t\t\tdirection: string,\r\n\t\t\t__typename: string\r\n\t\t};\r\n\t\t__typename: string\r\n\t}[];\r\n\tcolocalisationsForGene: {\r\n\t\tleftVariant: {\r\n\t\t\tid: string,\r\n\t\t\trsId: string,\r\n\t\t\t__typename: string\r\n\t\t};\r\n\t\tstudy: {\r\n\t\t\tstudyId: string,\r\n\t\t\ttraitReported: string,\r\n\t\t\tpubAuthor: string,\r\n\t\t\tpubDate: string,\r\n\t\t\tpmid: string,\r\n\t\t\thasSumstats: boolean,\r\n\t\t\t__typename: string\r\n\t\t};\r\n\t\tqtlStudyId: string;\r\n\t\tphenotypeId: string;\r\n\t\ttissue: {\r\n\t\t\tid: string,\r\n\t\t\tname: string,\r\n\t\t\t__typename: string\r\n\t\t};\r\n\t\th3: string;\r\n\t\th4: string;\r\n\t\tlog2h4h3: string;\r\n\t\t__typename: string;\r\n\t}[];\r\n};\r\n\r\n\r\n\r\nexport function useOpenTargetsData(geneID: string) {\r\n\tconst { data, loading } = useQuery<OpenTargetsQueryResponse>(OpenTargetQuery, {\r\n\t\tvariables: {\r\n\t\t\tgeneId: geneID //.split('.')[0]\r\n\t\t}, context: {\r\n\t\t\tclientName: 'opentarget'\r\n\t\t}\r\n\t});\r\n\r\n\treturn {\r\n\t\tdata: { ...data },\r\n\t\tloading: loading\r\n\t};\r\n}\r\n\r\n/*\r\n\r\n\r\n*/\r\n\r\nconst roundTo = function (num: number, places: number) {\r\n\t// https://www.reddit.com/r/typescript/comments/efid2b/comment/fc1jusw/?utm_source=share&utm_medium=web2x&context=3\r\n\tconst factor = 10 ** places;\r\n\treturn Math.round(num * factor) / factor;\r\n};\r\n\r\n\r\nconst OpenTarget: React.FC<any> = (props) => { \r\n    const { data, loading } = useOpenTargetsData(props.id);\r\n\t//console.log(\"openTargetdata:\", data);\r\n    const formattedData = useMemo(() => data?.studiesAndLeadVariantsForGeneByL2G?.map(\r\n\t\tq =>  {\r\n            \r\n            return [{\r\n                header: \"Study ID\",\r\n                value: q.study.studyId,\r\n                render:  <a  target={'_blank'} rel={'noreferrer noopener'} href={`https://genetics.opentargets.org/study/${q.study.studyId}`}>{q.study.studyId}</a>\r\n            }, {\r\n                header: \"Trait\",\r\n                value: q.study.traitReported\r\n            }, {\r\n                header: \"Publication\",\r\n                value: q.study.pubAuthor,\r\n                render: (q.study.pmid ? <a  target={'_blank'} rel={'noreferrer noopener'} href={`http://europepmc.org/article/MED/${q.study.pmid}`}>{ q.study.pubAuthor}</a> :  q.study.pubAuthor)\r\n            }, {\r\n                header: \"N initial\",\r\n                value: q.study.nInitial,\r\n                render: <span>{q.study.nInitial.toLocaleString(\"en-US\")}</span>\r\n            }, {\r\n                header: \"Lead Variant\",\r\n                value:  q.variant.id,\r\n                        render: <a  target={'_blank'} rel={'noreferrer noopener'} href={`https://genetics.opentargets.org/variant/${q.variant.id}`}>{q.variant.id}</a>\r\n            }, {\r\n                header: \"P-value\",\r\n                value: q.pval,\r\n                render: <span>{q.pval.toExponential(2)}</span>\r\n            }, {\r\n                header: \"Beta\",\r\n                value: q.beta.betaCI,\r\n                render: <span>{roundTo(q.beta.betaCI, 3)}</span>\r\n            }, {\r\n                header: \"Odds ratio\",\r\n                value: q.odds.oddsCI,\r\n                render: <span>{roundTo(q.odds.oddsCI, 2)}</span>\r\n            }, {\r\n                header: \"95% confidence interval\",\r\n                value: q.beta.betaCILower,\r\n                render: <span>{`(${roundTo(q.beta.betaCILower, 2)}, ${roundTo(q.beta.betaCIUpper, 2)})`}</span>\r\n            }, {\r\n                header: \"L2G pipeline score\",\r\n                value: q.yProbaModel,\r\n                render:  <span>{roundTo(q.yProbaModel, 2)}</span>\r\n            }, {\r\n                header: \"OpenTarget Gene Prioritisation\",\r\n                value: q.study.studyId,\r\n                        render:  <a  target={'_blank'} rel={'noreferrer noopener'} href={`https://genetics.opentargets.org/study-locus/${q.study.studyId}/${q.variant.id}`}>Gene Prioritisation</a>\r\n            }]}\r\n\t) || [], [data]);\r\n\tif (loading) return <> \r\n     <Typography\r\n                            type=\"body\"\r\n                            size=\"large\"\r\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\r\n                        >\r\n                                Loading Open Target Data...\r\n                        </Typography>\r\n                        <br/>\r\n    <CircularProgress color=\"inherit\"/>\r\n    \r\n     </>;\r\n\r\n    return(<>\r\n    {<CustomizedTable style={{ width: \"max-content\" }}  tabledata={formattedData}/>}\r\n    </>)\r\n}\r\n\r\nexport default OpenTarget;","import React, {useMemo}  from 'react';\r\nimport { gql, useQuery } from '@apollo/client';\r\nimport { associateBy } from 'queryz';\r\nimport { CustomizedTable, Typography } from '@zscreen/psychscreen-ui-components';\r\n\r\nexport type GenomicRange = {\r\n    chromosome?: string;\r\n    start: number;\r\n    end: number;\r\n}\r\n\r\nexport type CCREEntry = {\r\n    accession: string;\r\n    coordinates: GenomicRange;\r\n    rDHS: string;\r\n    group?: string;\r\n    dnaseZ?: number;\r\n    h3k4me3Z?: number;\r\n    h3k27acZ?: number;\r\n    ctcfZ?: number;\r\n    zScores?: {\r\n        score: number;\r\n    }[];\r\n};\r\n\r\n\r\nexport type LDEntry = {\r\n    id: string;\r\n    rSquared: number;\r\n    coordinates: GenomicRange;\r\n};\r\n\r\nexport function expandCoordinates(coordinates: GenomicRange, l = 20000): GenomicRange {\r\n    return {\r\n        chromosome: coordinates.chromosome,\r\n        start: coordinates.start - l < 0 ? 0 : coordinates.start - l,\r\n        end: coordinates.end + l\r\n    };\r\n}\r\n\r\n\r\nexport const CCRE_FIELDS = gql`\r\nfragment CCREFields on CCRE {\r\n    accession\r\n    coordinates {\r\n        chromosome\r\n        start\r\n        end\r\n    }\r\n    rDHS\r\n    group\r\n    dnaseZ: maxZ(assay: \"dnase\")\r\n    h3k4me3Z: maxZ(assay: \"h3k4me3\")\r\n    h3k27acZ: maxZ(assay: \"h3k27ac\")\r\n    ctcfZ: maxZ(assay: \"ctcf\")\r\n}\r\n`;\r\n\r\nconst SNP_COORDINATE_QUERY = gql`\r\n${CCRE_FIELDS}\r\nquery s($id: [String]) {\r\n  snpQuery(assembly: \"hg38\", snpids: $id) {\r\n    coordinates {\r\n        chromosome\r\n        start\r\n        end\r\n    }\r\n    id\r\n    intersecting_ccres {\r\n      intersecting_ccres {\r\n        ...CCREFields\r\n      }\r\n    }\r\n  }\r\n}`;\r\n\r\nexport type QTLEntry = {\r\n    coordinates: {\r\n        chromosome: string;\r\n        start: number;\r\n        end: number;\r\n    };\r\n    id: string;\r\n    intersecting_ccres: {\r\n        intersecting_ccres: CCREEntry[];\r\n    };\r\n    eQTL: EQTL;\r\n};\r\n\r\nexport type SNPCoordinateResponse = {\r\n    snpQuery: QTLEntry[];\r\n};\r\n\r\nconst SNP_QUERY = gql`\r\nquery s($chromosome: String, $start: Int, $end: Int, $coordinates: [GenomicRangeInput], $assembly: String!) {\r\n  snpQuery(assembly: \"hg38\", coordinates: $coordinates, common: true) {\r\n    id\r\n    coordinates {\r\n      chromosome\r\n      start\r\n      end\r\n    }\r\n  }\r\n  gene(chromosome: $chromosome, start: $start, end: $end, assembly: $assembly) {\r\n    name\r\n    strand\r\n    transcripts {\r\n      name\r\n      strand\r\n      exons {\r\n          coordinates {\r\n              chromosome\r\n              start\r\n              end\r\n          }\r\n      }\r\n      coordinates {\r\n        chromosome\r\n        start\r\n        end\r\n      }\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nexport type Transcript = {\r\n    id: string;\r\n    name: string;\r\n    strand: string;\r\n    coordinates: GenomicRange;\r\n};\r\nexport type SNPQueryResponse = {\r\n    snpQuery: {\r\n        id: string;\r\n        coordinates: GenomicRange;\r\n    }[];\r\n    gene: {\r\n        name: string;\r\n        strand: string;\r\n        transcripts: Transcript[];\r\n    }[];\r\n};\r\n\r\nconst QUERY = gql`\r\n${CCRE_FIELDS}\r\nquery q($assembly: String!, $name: [String]) {\r\n  queriedGene: gene(name: $name, assembly: $assembly) {\r\n    transcripts {\r\n      associated_ccres_pls {\r\n        intersecting_ccres {\r\n          ...CCREFields\r\n        }\r\n      }\r\n    }\r\n    fetal_eqtls(population: \"shared\") {\r\n      eqtls {\r\n        snp\r\n        fdr\r\n        nominal_pval\r\n        slope\r\n      }\r\n    }\r\n  }\r\n  queriedTranscript: transcript(name: $name, assembly: $assembly) {\r\n    associated_ccres_pls {\r\n      intersecting_ccres {\r\n        ...CCREFields\r\n      }\r\n    }\r\n    fetal_isoqtls(population: \"shared\") {\r\n      isoqtls {\r\n        snp\r\n        fdr\r\n        nominal_pval\r\n        slope\r\n      }\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nexport type EQTL = {\r\n    snp: string;\r\n    fdr: number;\r\n    nominal_pval: number;\r\n    slope: number;\r\n};\r\n\r\nexport type GeneQueryResponse = {\r\n    queriedGene: {\r\n        transcripts: {\r\n            associated_ccres_pls: {\r\n                intersecting_ccres: CCREEntry[];\r\n            };\r\n        }[];\r\n        fetal_eqtls: {\r\n            eqtls: EQTL[];\r\n        };\r\n    }[];\r\n    queriedTranscript: {\r\n        associated_ccres_pls: {\r\n            intersecting_ccres: CCREEntry[];\r\n        };\r\n        fetal_isoqtls: {\r\n            isoqtls: {\r\n                snp: string;\r\n                fdr: number;\r\n                nominal_pval: number;\r\n                slope: number;\r\n            }[];\r\n        };\r\n    }[];\r\n};\r\n\r\nexport function useGenePageData(expandedCoordinates: GenomicRange, assembly: string, name: string, resolvedTranscript?: boolean) {\r\n\r\n    const { data, loading } = useQuery<GeneQueryResponse>(QUERY, {\r\n        variables: {\r\n            coordinates: expandedCoordinates,\r\n            ...expandedCoordinates,\r\n            assembly,\r\n            name\r\n        }, context: {\r\n\t\t\tclientName: 'psychscreen'\r\n\t\t}\r\n    });\r\n\r\n    const snpCoordinateResponse = useQuery<SNPCoordinateResponse>(SNP_COORDINATE_QUERY, {\r\n        variables: {\r\n            id: [\r\n                ...(data?.queriedGene[0]?.fetal_eqtls.eqtls.map(x => x.snp) || []),\r\n                ...(data?.queriedTranscript[0]?.fetal_isoqtls.isoqtls.map(x => x.snp) || [])\r\n            ]\r\n        }, context: {\r\n\t\t\tclientName: 'psychscreen'\r\n\t\t},\r\n        skip: loading\r\n    });\r\n    \r\n    const coordinates = useMemo( () => expandCoordinates(/* {\r\n        chromosome: snpCoordinateResponse.data?.snpQuery[0]?.coordinates.chromosome || \"\",\r\n        start: Math.min(...(snpCoordinateResponse.data?.snpQuery.map(x => x.coordinates.start) || [0])),\r\n        end: Math.max(...(snpCoordinateResponse.data?.snpQuery.map(x => x.coordinates.end) || [0]))\r\n    }*/ expandedCoordinates, 100000), [ expandedCoordinates ]);\r\n\r\n    const snpResponse = useQuery<SNPQueryResponse>(SNP_QUERY, {\r\n        variables: { ...coordinates, coordinates, assembly },\r\n        skip: loading || snpCoordinateResponse.loading\r\n    });\r\n\r\n    const groupedTranscripts = useMemo( () => snpResponse.data?.gene.map(\r\n        x => ({\r\n            ...x,\r\n            transcripts: x.transcripts.map(xx => ({ ...xx, color: (resolvedTranscript ? xx : x).name === name ? \"#880000\" : \"#aaaaaa\" }))\r\n        })\r\n    ), [ resolvedTranscript, name, snpResponse ]);\r\n\r\n    return {\r\n        data: { ...snpResponse.data, ...data },\r\n        loading: loading || snpCoordinateResponse.loading || snpResponse.loading,\r\n        snpData: snpResponse.data,\r\n        snpCoordinateData: snpCoordinateResponse.data,\r\n        groupedTranscripts,\r\n        expandedCoordinates: coordinates\r\n    };\r\n\r\n}\r\n\r\n\r\n\r\nconst AssociatedxQTL: React.FC<any> = (props) => { \r\n\r\n    const eexpandedCoordinates = useMemo( () => expandCoordinates(props.coordinates), [ props.coordinates ]);\r\n    \r\n    const { data, loading, snpCoordinateData } = useGenePageData(\r\n        eexpandedCoordinates,\r\n        \"GRCh38\" || \"\",\r\n        props.name,\r\n        props.resolvedTranscript\r\n    );\r\n    const groupedQTLs = useMemo( () => associateBy((data?.queriedGene && data.queriedGene[0]?.fetal_eqtls.eqtls) || [], x => x.snp, x => x), [ data ]);\r\n\r\n    const allQTLs = useMemo( () => (\r\n        snpCoordinateData?.snpQuery\r\n            .map(x => ({ ...x, eQTL: groupedQTLs.get(x.id)! }))\r\n            .filter(x => -Math.log10(x.eQTL.fdr) > props.facetState.fdr[0] && -Math.log10(x.eQTL.fdr) < props.facetState.fdr[1])\r\n    ) || [], [ snpCoordinateData, groupedQTLs, props ]);\r\n    \r\n    const allQTLsData =allQTLs && allQTLs.map(x=>{\r\n      return [{\r\n        header: \"SNP ID\",\r\n        value: x.id\r\n    }, {\r\n        header: \"eQTL FDR\",\r\n        value: x.eQTL.fdr.toExponential(2)\r\n    }, {\r\n        header: \"eQTL nominal p-value\",\r\n        value: x.eQTL.nominal_pval.toExponential(2)\r\n    }, {\r\n        header: \"coordinates\",\r\n        value: `${x.coordinates.chromosome}:${x.coordinates.start}`\r\n    }, {\r\n        header: \"intersecting cCRE\",\r\n        value:  x.intersecting_ccres.intersecting_ccres[0]?.accession || \"--\",\r\n        render:  (\r\n            <span\r\n                style={{ color: x.intersecting_ccres.intersecting_ccres[0] ? \"#006edb\" : \"#000000\" }}\r\n            >\r\n                {x.intersecting_ccres.intersecting_ccres[0]?.accession || \"--\"}\r\n            </span>\r\n        )\r\n    }]\r\n    })\r\n    //allQTLsData\r\n    if(!loading && allQTLsData && allQTLsData.length===0) return(<Typography type=\"body\" size=\"large\">\r\n    No fetal xQTLs were identified for this gene..\r\n        </Typography> )\r\n\r\n    return(<>\r\n    { allQTLsData&& allQTLsData.length>0 &&\r\n     <CustomizedTable style={{ width: \"max-content\" }}  tabledata={allQTLsData}/>}\r\n    </>)\r\n}\r\n\r\n\r\nexport default AssociatedxQTL","\r\nexport const linearTransform = (d, r) => v =>\r\n// https://gist.github.com/vectorsize/7031902\r\nr[0] + (r[1] - r[0]) * ((v - d[0]) / (d[1] - d[0]));\r\n\r\nexport const ticks = (range, cscale = 1.0) => {\r\n    const sfig = Math.pow(10.0, Math.floor(Math.log10(range[1])));\r\n    const r: number[] = [], lrange = [ Math.floor(range[0] / sfig) * sfig, Math.ceil(range[1] / sfig) * sfig ];\r\n    for (let i = lrange[0]; i <= lrange[1]; i += sfig * cscale) {\r\n        r.push(i);\r\n    }\r\n    if (r.length <= 2) return range;\r\n    return r.length > 10 ? ticks(range, cscale * 2) : r;\r\n};\r\n\r\n\r\nexport const groupBy = (data, key) => {\r\n    const results = {};\r\n    data.forEach( d => {\r\n        if (results[d.metadata[key]] === undefined) results[d.metadata[key]] = [];\r\n        results[d.metadata[key]].push({\r\n            y: d.value,\r\n            x: d.metadata.agedeath_adult !== null ? d.metadata.agedeath_adult : d.metadata.agedeath_fetus\r\n        });\r\n    });\r\n    return results;\r\n};\r\n\r\nexport const groupedValues = (groupedData, k) => {\r\n    const r = {};\r\n    Object.keys(groupedData).forEach(key => {\r\n        r[key] = groupedData[key].map(x => x[k])\r\n    });\r\n    return r;\r\n};\r\n\r\nexport const standardDeviation = values => {\r\n\r\n    if (values.length === 1) return 0.0;\r\n    const avg = average(values);\r\n\r\n    const squareDiffs = values.map(value => {\r\n        const diff = value - avg;\r\n        const sqrDiff = diff * diff;\r\n        return sqrDiff;\r\n    });\r\n\r\n    const avgSquareDiff = average(squareDiffs);\r\n    return Math.sqrt(avgSquareDiff);\r\n\r\n}\r\n\r\nexport const average = data => (\r\n    data.reduce( (sum, value) => sum + value, 0 ) / data.length\r\n);\r\n","import React from 'react';\r\nimport { linearTransform } from './utils';\r\nimport { ticks } from './utils';\r\n\r\nconst XAxis: React.FC<any> = ({ width, height, range, title }) => {\r\n    const horizontalTransform = linearTransform(range, [ 0, width ]);\r\n    return (\r\n        <>\r\n            <text textAnchor=\"middle\" x={width / 2} y={height * 0.5} fontSize=\"20px\">\r\n                {title}\r\n            </text>\r\n            <rect width={width} y={0} x={0} height={2} fill=\"#000000\" />\r\n            {ticks(range).filter(x => horizontalTransform(x) > 0 && horizontalTransform(x) < width).map( rangeValue => (\r\n                <g transform={`translate(${horizontalTransform(rangeValue)},0)`}>\r\n                    <text transform=\"rotate(-90)\" textAnchor=\"end\" x={-height * 0.15} y={5} fontSize=\"15px\">\r\n                        {rangeValue.toFixed(Math.log10(range[1] + 0.01) > 1.0 ? 0 : 2)}\r\n                    </text>\r\n                    <rect height={height * 0.1} width={2} y={0} x={-2} fill=\"#000000\" />\r\n                </g>\r\n            ))}\r\n        </>\r\n    );\r\n};\r\nexport default XAxis;\r\n","import React from 'react';\r\nimport { linearTransform } from './utils';\r\nimport { ticks } from './utils';\r\n\r\nconst YAxis:React.FC<any> = ({ width, height, range, title }) => {\r\n    const verticalTransform = linearTransform(range, [ height * 0.9, height * 0.1 ]);\r\n    return (\r\n        <>\r\n            <text transform=\"rotate(-90)\" textAnchor=\"middle\" x={-height / 2} y={width * 0.2} dominantBaseline=\"center\" fontSize=\"20px\">\r\n                {title}\r\n            </text>\r\n            <rect height={height * 0.8} y={height * 0.1} x={width * 0.8} width={2} fill=\"#000000\" />\r\n            {ticks(range).filter(x => verticalTransform(x) > height * 0.1 && verticalTransform(x) < height * 0.9).map( rangeValue => (\r\n                <g transform={`translate(0,${verticalTransform(rangeValue)})`} key={rangeValue}>\r\n                    <text textAnchor=\"end\" x={width * 0.6} fontSize=\"15px\" alignmentBaseline=\"middle\">\r\n                        {rangeValue.toFixed(Math.log10(range[1] + 0.01) > 1.0 ? 0 : 2)}\r\n                    </text>\r\n                    <rect width={width * 0.1} height={2} x={width * 0.7} y={-2} fill=\"#000000\" />\r\n                </g>\r\n            ))}\r\n        </>\r\n    );\r\n};\r\nexport default YAxis;\r\n","\r\nimport React from 'react';\r\n\r\nconst Legend = ({ x, y, width, fill, stroke, title, content, fontSize }) => (\r\n    <g transform={`translate(${x},${y})`}>\r\n        <rect width={width} height={fontSize * (Object.keys(content).length + 3)} fill={fill} stroke={stroke} strokeWidth={2} />\r\n        <text fontWeight=\"bold\" fontSize={fontSize * 1.25} textAnchor=\"middle\" x={width / 2} y={fontSize * 1.4}>\r\n            {title}\r\n        </text>\r\n        { Object.keys(content).map( (key, i) => (\r\n            <React.Fragment key={i}>\r\n                <rect x={width * 0.1} y={fontSize * (i + 2.5)} width={fontSize * 0.8} height={fontSize * 0.8} fill={key} />\r\n                <text fontSize={fontSize * 0.9} x={width * 0.18} y={fontSize * (i + 3.2)}>\r\n                    {content[key]}\r\n                </text>\r\n            </React.Fragment>\r\n        ))}\r\n    </g>\r\n);\r\nexport default Legend;\r\n","import React from 'react';\r\n\r\nimport { standardDeviation, average } from './utils';\r\n\r\nconst trendline = (data, resolution = 20) => {\r\n    const range = [\r\n        Math.min(...data.map(x => x.x)),\r\n        Math.max(...data.map(x => x.x))\r\n    ];\r\n    const step = (range[1] - range[0]) / resolution;\r\n    const averages = {}, stdevs = {};\r\n    for (let i = range[0]; i < range[1] + step; i += step) {\r\n        const filtered = data.filter(x => x.x > i - step * 2 && x.x < i + step * 2);\r\n        if (filtered.length < 3) continue;\r\n        averages[i] = average(filtered.map(x => x.y));\r\n        stdevs[i] = standardDeviation(filtered.map(x => x.y));\r\n    }\r\n    return {\r\n        averages,\r\n        stdevs\r\n    };\r\n};\r\n\r\nconst nsort = (a, b) => (+a - +b);\r\n\r\nconst Trendline = ({ data, xt, yt, color, resolution = 20 }) => {\r\n    const { averages, stdevs } = trendline(data, resolution);\r\n    const akeys = Object.keys(averages).sort(nsort).map(x => +x), skeys = Object.keys(stdevs).sort(nsort).map(x => +x);\r\n    const skeysr = [...skeys].reverse();\r\n    const center = akeys.reduce(\r\n        (acc, x) => (acc + ` L ${xt(x)} ${yt(averages[x])}`), `M ${xt(akeys[0])} ${yt(averages[akeys[0]])}`\r\n    );\r\n    const top = skeys.reduce(\r\n        (acc, x) => (acc + ` L ${xt(x)} ${yt(averages[x] + stdevs[x])}`), `M ${xt(akeys[0])} ${yt(averages[akeys[0]] + stdevs[akeys[0]])}`\r\n    );\r\n    const complete = skeysr.reduce(\r\n        (acc, x) => (acc + ` L ${xt(x)} ${yt(averages[x] - stdevs[x])}`), top\r\n    ) + `L ${xt(akeys[0])} ${yt(averages[akeys[0]] - stdevs[akeys[0]])}`;\r\n    return (\r\n        <>\r\n            <path\r\n                d={center}\r\n                stroke={color}\r\n                strokeWidth={3}\r\n                fill=\"none\"\r\n            />\r\n            <path\r\n              d={complete}\r\n              fill={color}\r\n              fillOpacity={0.3}\r\n              strokeWidth={2}\r\n            />\r\n        </>\r\n    );\r\n};\r\nexport default Trendline;\r\n","import React from 'react';\r\nimport { Typography } from '@zscreen/psychscreen-ui-components';\r\n\r\nimport { linearTransform } from './utils';\r\nimport  XAxis from './xaxis';\r\nimport  YAxis  from './yaxis';\r\nimport Legend from './legend';\r\nimport Trendline from './trendline';\r\n\r\nconst identityTransform = linearTransform([ 1, 2 ], [ 1, 2 ]);\r\n\r\nconst AdultFetalScatterPlot: React.FC<any> = ({ xtitle, ytitle, fx, fy, ax, ay, logScale, width, height, colors, legendTitle, legendContent, normalized }) => {\r\n    if (!fy || !ay || !fx || !ax || !fy[0] || !ay[0] || !fx[0] || !ax[0]) return <Typography\r\n    type=\"body\"\r\n    size=\"large\"\r\n    style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\r\n>No data match the given criteria.</Typography>;\r\n    if (logScale) {\r\n        fy = fy.map((yy: any) => yy.map( yyy => Math.log(yyy + 0.01) ));\r\n        ay = ay.map((yy: any) => yy.map( yyy => Math.log(yyy + 0.01) ));\r\n    }\r\n    const fetalDomain = [ 0, 38 ];\r\n    const adultDomain = [\r\n        -0.01,\r\n        Math.max(...ax.map(d => Math.max(...(d || []))))\r\n    ];\r\n    const range = [\r\n        normalized ? -5.0 : (logScale ? Math.log(0.01) : 0.0), // Math.min(...y.map(d => Math.min(...d))),\r\n        Math.max(...fy.map(d => Math.max(...(d || []))), ...ay.map(d => Math.max(...(d || []))))\r\n    ];\r\n    const fhorizontalTransform = linearTransform(fetalDomain, [ width * 0.08, width * 0.36 ]);\r\n    const ahorizontalTransform = linearTransform(adultDomain, [ width * 0.36, width * 0.72 ]);\r\n    const verticalTransform = linearTransform(range, [ height * 0.7, 0 ]);\r\n    const fpaired = Object.keys(fy).map( i => (\r\n        fy[i] ? fy[i].map( (yyy, j) => ({\r\n            y: yyy,\r\n            x: fhorizontalTransform(fx[i][j])\r\n        })) : []\r\n    ));\r\n    const apaired = Object.keys(ay).map( i => (\r\n        ay[i] ? ay[i].map( (yyy, j) => ({\r\n            y: yyy,\r\n            x: ahorizontalTransform(ax[i][j])\r\n        })) : []\r\n    ));\r\n    return (\r\n        <g>\r\n            <g transform={`translate(0,${-height * 0.1})`}>\r\n                <YAxis title={ytitle} width={width * 0.1} height={height * 0.9} range={range} />\r\n            </g>\r\n            <g transform={`translate(${width * 0.08},${height * 0.7})`}>\r\n                <XAxis title=\"fetal age (PCW)\" width={width * 0.28} height={height * 0.2} range={fetalDomain} />\r\n            </g>\r\n\t    <g transform={`translate(${width * 0.36},0)`}>\r\n\t        <line x1={0} y1={0} x2={0} y2={height * 0.7} stroke=\"#000000\" />\r\n\t    </g>\r\n\t    <g transform={`translate(${width * 0.36},${height * 0.7})`}>\r\n\t\t<XAxis title=\"postnatal age (years)\" width={width * 0.36} height={height * 0.2} range={adultDomain} />\r\n            </g>\r\n            { Object.keys(fx).filter(key => fx[key]).map( key => (\r\n                fx[key].map( (xx, i) => (\r\n                    <rect\r\n                        x={fhorizontalTransform(xx) - 2}\r\n                        y={verticalTransform(fy[key][i]) - 2}\r\n                        width={4}\r\n                        height={4}\r\n                        fill={colors[key] || \"#000000\"}\r\n                    />\r\n                ))\r\n            ))}\r\n            { Object.keys(ax).filter(key => ax[key]).map( key => (\r\n                ax[key].map( (xx, i) => (\r\n                    <rect\r\n                        x={ahorizontalTransform(xx) - 2}\r\n                        y={verticalTransform(ay[key][i]) - 2}\r\n                        width={4}\r\n                        height={4}\r\n                        fill={colors[key] || \"#000000\"}\r\n                    />\r\n                ))\r\n            ))}\r\n            {colors.map( (color, i) => (\r\n                <Trendline data={[ ...fpaired[i], ...apaired[i] ]} xt={identityTransform} yt={verticalTransform} color={color} />\r\n            ))}\r\n            <Legend\r\n                x={width * 0.75}\r\n                y={height * 0.1}\r\n                width={width * 0.15}\r\n                title={legendTitle}\r\n                content={legendContent}\r\n                fontSize={15}\r\n                fill=\"#eeeeee\"\r\n                stroke=\"#eeeeee\"\r\n            />\r\n        </g>\r\n    );\r\n};\r\nexport default AdultFetalScatterPlot;\r\n","import { gql, useQuery } from '@apollo/client';\r\nimport { groupBy } from 'queryz';\r\nimport React, { useMemo } from 'react';\r\nimport CircularProgress from '@mui/material/CircularProgress';\r\nimport { Typography } from '@zscreen/psychscreen-ui-components';\r\nimport AdultFetalScatterPlot from './scatterplot/adult-fetal';\r\n\r\nconst QUERY = gql`\r\nquery q($name: [String]) {\r\n    biosampleQuery(dataset: \"werling2020\") {\r\n        id\r\n        age\r\n        fetal\r\n        sex\r\n    }\r\n    expressionQuery(dataset: \"werling2020\", gene_id: $name) {\r\n        biosample\r\n        expression\r\n    }\r\n}\r\n`;\r\n\r\ntype WerlingQueryResponse = {\r\n    biosampleQuery: {\r\n        id: string;\r\n        age: number;\r\n        fetal: boolean;\r\n        sex: string;\r\n    }[];\r\n    expressionQuery: {\r\n        biosample: string;\r\n        expression: number;\r\n    }[];\r\n};\r\n\r\nexport type GeneExpressionPageProps = {\r\n    id: string;\r\n};\r\n\r\nconst GeneExpressionPage: React.FC<GeneExpressionPageProps> = props => {\r\n\r\n    const { data, loading } = useQuery<WerlingQueryResponse>(QUERY, {\r\n        variables: { name: props.id.split(\".\")[0] }, context: {\r\n\t\t\tclientName: 'psychscreen'\r\n\t\t}\r\n    });\r\n    const wBiosamples = useMemo( () => groupBy(data?.biosampleQuery || [], d => d.id, x => x), [ data ]);\r\n    const formattedExpression = useMemo( () => data?.expressionQuery.map(\r\n        q => ({\r\n            assay_term_name: \"total RNA-seq\",\r\n            diagnosis: \"Control\",\r\n            study: \"Werling et. al. 2020\",\r\n            sex: wBiosamples.get(q.biosample)![0].sex === \"male\" ? 'M' : 'F',\r\n            agedeath_adult: wBiosamples.get(q.biosample)![0].fetal ? null : wBiosamples.get(q.biosample)![0].age,\r\n            agedeath_fetus: wBiosamples.get(q.biosample)![0].fetal ? wBiosamples.get(q.biosample)![0].age : null,\r\n            gene_quantification_files: [{\r\n                quantifications: [{\r\n                    tpm: q.expression\r\n                }]\r\n            }]\r\n        })\r\n    ) || [], [ data ]);\r\n\r\n    const legendContent = ( _: string[], keys: string[] ) => {\r\n        let r: { [key: string]: string } = {};\r\n        keys.forEach( key => {\r\n            r[\"#008800\"] = key\r\n        });\r\n        return r;\r\n    };\r\n\r\n    let r = {};\r\n    r[\"#008800\"] = \"nishi\"\r\n    r[\"#ff8800\"] = \"niship\"\r\n    return loading ? <>\r\n     <Typography\r\n                            type=\"body\"\r\n                            size=\"large\"\r\n                            style={{ display: 'flex', alignItems: 'center', flexWrap: 'wrap', fontSize: \"16px\", fontWeight: 400, lineHeight: \"19px\" }}\r\n                        >\r\n                                Loading Data...\r\n                        </Typography>\r\n                        <br/>\r\n    <CircularProgress color=\"inherit\"/>\r\n    </> : (\r\n        <svg width=\"100%\" viewBox={`0 0 1900 800`}>\r\n            <AdultFetalScatterPlot\r\n                fx={[ formattedExpression.filter(x => !!x.agedeath_fetus).map(x => x.agedeath_fetus) ]}\r\n                fy={[ formattedExpression.filter(x => !!x.agedeath_fetus).map(x => x.gene_quantification_files[0].quantifications[0].tpm) ]}\r\n                ax={[ formattedExpression.filter(x => !!x.agedeath_adult).map(x => x.agedeath_adult) ]}\r\n                ay={[ formattedExpression.filter(x => !!x.agedeath_adult).map(x => x.gene_quantification_files[0].quantifications[0].tpm) ]}\r\n                colors={[ \"#008800\" ]}\r\n                xtitle=\"\"\r\n                ytitle={`expression (normalized)`}\r\n                width={1600}\r\n                height={800}\r\n                logScale={false}\r\n                legendTitle={\"\"}\r\n                legendContent={r}\r\n                normalized={true}\r\n            />\r\n        </svg>\r\n    );\r\n\r\n}\r\nexport default GeneExpressionPage;\r\n","import React, { useMemo } from 'react';\nimport { gql, useQuery } from '@apollo/client';\nimport { Cytobands } from 'umms-gb';\n//import { Grid } from 'semantic-ui-react';\nimport { Grid } from '@mui/material';\nimport { GenomicRange } from './GenomeExplorer';\n\nconst CYTOBAND_QUERY = gql`\n  query cytobands($assembly: String!, $chromosome: String) {\n    cytoband(assembly: $assembly, chromosome: $chromosome) {\n      stain\n      coordinates {\n        chromosome\n        start\n        end\n      }\n    }\n  }\n`;\n\nexport type CytobandQueryResponse = {\n    cytoband: {\n        stain: string;\n        coordinates: {\n            chromosome: string;\n            start: number;\n            end: number;\n        };\n    }[];\n};\n\nexport type CytobandsProps = {\n    assembly: string;\n    chromosome: string;\n    innerWidth: number;\n    height: number;\n    position?: GenomicRange;\n};\n\nconst CytobandView: React.FC<CytobandsProps> = props => {\n    console.log(props)\n    const { loading, data } = useQuery<CytobandQueryResponse>(CYTOBAND_QUERY, {\n        variables: {\n            assembly: props.assembly,\n            chromosome: props.chromosome\n        }\n    });\n    const domain = useMemo( () => data && ({\n        start: 0,\n        end: Math.max(...(data.cytoband.length === 0 ? [1] : data.cytoband.map(x => x.coordinates.end)))\n    }), [ data ]);\n    return loading || !data ? null : (\n        <Grid container>\n            <Grid item sm={2}  md={2} lg={2} xl={2}/>\n            <Grid item sm={8}  md={8} lg={8} xl={8}>\n                <svg width=\"100%\" viewBox={`0 0 ${props.innerWidth} ${props.height}`}>\n                    <Cytobands\n                        highlight={props.position && { ...props.position, color: \"#0000ff\" }}\n                        data={data.cytoband}\n                        domain={domain || { start: 0, end: 1 }}\n                        width={props.innerWidth}\n                        height={props.height}\n                        id=\"cytobands\"\n                    />\n                </svg>\n            </Grid>\n            <Grid item sm={2}  md={2} lg={2} xl={2}>\n                <strong>{props.assembly}:{props.chromosome}</strong>\n            </Grid>\n        </Grid>\n    );\n};\nexport default CytobandView;\n","//import { GenomicRange } from '../../../HomePage/Browser/Explorer/GenomeExplorer';\r\nimport React, { useState } from 'react';\r\nimport { EmptyTrack, PackTranscriptTrack, SquishTranscriptTrack } from 'umms-gb';\r\nimport { TranscriptList } from 'umms-gb/dist/components/tracks/transcripts/types';\r\n\r\nexport type GenomicRange = {\r\n    chromosome?: string;\r\n    start: number;\r\n    end: number;\r\n}   \r\nexport type EGeneTrackProps = {\r\n    expandedCoordinates: GenomicRange;\r\n    genes: TranscriptList[];\r\n    highlights?: Set<string>;\r\n    onSettingsClick?: () => void;\r\n    onHeightChanged?: (x: number) => void;\r\n    squish?: boolean;\r\n};\r\n\r\nconst EGeneTracks: React.FC<EGeneTrackProps> = props => {\r\n    const [ settingsMousedOver, setSettingsMousedOver ] = useState(false);\r\n    const [ height, setHeight ] = useState(60);\r\n\r\n    return (\r\n        <g>\r\n            <EmptyTrack\r\n                height={40}\r\n                width={1400}\r\n                text=\"GENCODE transcripts\"\r\n                transform=\"\"\r\n                id=\"\"\r\n            />\r\n            { props.squish ? (\r\n                <SquishTranscriptTrack\r\n                    transform=\"translate(0,40)\"\r\n                    rowHeight={20}\r\n                    width={1400}\r\n                    domain={props.expandedCoordinates}\r\n                    id=\"innergencode\"\r\n                    data={props.genes || []}\r\n                    onHeightChanged={x => { setHeight(x + 40); props.onHeightChanged && props.onHeightChanged(40 + x); }}\r\n                    color=\"#880000\"\r\n                />\r\n            ) : (\r\n                <PackTranscriptTrack\r\n                    transform=\"translate(0,40)\"\r\n                    rowHeight={20}\r\n                    width={1400}\r\n                    domain={props.expandedCoordinates}\r\n                    id=\"innergencode\"\r\n                    data={props.genes || []}\r\n                    onHeightChanged={x => { setHeight(x + 40); props.onHeightChanged && props.onHeightChanged(40 + x); }}\r\n                    color=\"#880000\"\r\n                />\r\n            )}\r\n            { settingsMousedOver && (\r\n                <rect width={1400} height={height} transform=\"translate(0,0)\" fill=\"#bf2604\" fillOpacity={0.1} />\r\n            )}\r\n            <rect\r\n                transform=\"translate(0,0)\"\r\n                height={height}\r\n                width={40}\r\n                fill=\"#ffffff\"\r\n            />\r\n            <rect\r\n                height={height}\r\n                width={15}\r\n                fill=\"#bf2604\"\r\n                stroke=\"#000000\"\r\n                fillOpacity={settingsMousedOver ? 1 : 0.6}\r\n                onMouseOver={() => setSettingsMousedOver(true)}\r\n                onMouseOut={() => setSettingsMousedOver(false)}\r\n                strokeWidth={1}\r\n                transform=\"translate(20,0)\"\r\n                onClick={props.onSettingsClick}\r\n            />\r\n            <text transform={`rotate(270) translate(-${height / 2 + 20},10)`} fill=\"#bf2604\">\r\n                Transcripts\r\n            </text>\r\n        </g>\r\n    );\r\n}\r\nexport default EGeneTracks;\r\n","\r\nimport { gql, useQuery } from '@apollo/client';\r\nimport React, {useMemo, useRef, useState, useCallback}  from 'react';\r\nimport CytobandView from './Explorer/Cytobands';\r\nimport { EmptyTrack, GenomeBrowser, RulerTrack } from 'umms-gb';\r\nimport EGeneTracks from './EGeneTracks';\r\n\r\n\r\n\r\nexport const LD_QUERY = gql`\r\nquery s($id: [String]) {\r\n  snp: snpQuery(assembly: \"hg38\", snpids: $id) {\r\n    linkageDisequilibrium(rSquaredThreshold: 0.7, population: EUROPEAN) {\r\n      id\r\n      rSquared\r\n      coordinates(assembly: \"hg38\") {\r\n        chromosome\r\n        start\r\n        end\r\n      }\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nexport type LDQueryResponse = {\r\n    snp: {\r\n        linkageDisequilibrium: LDEntry[];\r\n    }[];\r\n};\r\n\r\nexport type GenomicRange = {\r\n    chromosome?: string;\r\n    start: number;\r\n    end: number;\r\n}\r\n\r\nexport type CCREEntry = {\r\n    accession: string;\r\n    coordinates: GenomicRange;\r\n    rDHS: string;\r\n    group?: string;\r\n    dnaseZ?: number;\r\n    h3k4me3Z?: number;\r\n    h3k27acZ?: number;\r\n    ctcfZ?: number;\r\n    zScores?: {\r\n        score: number;\r\n    }[];\r\n};\r\n\r\n\r\nexport type LDEntry = {\r\n    id: string;\r\n    rSquared: number;\r\n    coordinates: GenomicRange;\r\n};\r\n\r\nexport function expandCoordinates(coordinates: GenomicRange, l = 20000): GenomicRange {\r\n    return {\r\n        chromosome: coordinates.chromosome,\r\n        start: coordinates.start - l < 0 ? 0 : coordinates.start - l,\r\n        end: coordinates.end + l\r\n    };\r\n}\r\n\r\n\r\nexport const CCRE_FIELDS = gql`\r\nfragment CCREFields on CCRE {\r\n    accession\r\n    coordinates {\r\n        chromosome\r\n        start\r\n        end\r\n    }\r\n    rDHS\r\n    group\r\n    dnaseZ: maxZ(assay: \"dnase\")\r\n    h3k4me3Z: maxZ(assay: \"h3k4me3\")\r\n    h3k27acZ: maxZ(assay: \"h3k27ac\")\r\n    ctcfZ: maxZ(assay: \"ctcf\")\r\n}\r\n`;\r\n\r\nconst SNP_COORDINATE_QUERY = gql`\r\n${CCRE_FIELDS}\r\nquery s($id: [String]) {\r\n  snpQuery(assembly: \"hg38\", snpids: $id) {\r\n    coordinates {\r\n        chromosome\r\n        start\r\n        end\r\n    }\r\n    id\r\n    intersecting_ccres {\r\n      intersecting_ccres {\r\n        ...CCREFields\r\n      }\r\n    }\r\n  }\r\n}`;\r\n\r\nexport type QTLEntry = {\r\n    coordinates: {\r\n        chromosome: string;\r\n        start: number;\r\n        end: number;\r\n    };\r\n    id: string;\r\n    intersecting_ccres: {\r\n        intersecting_ccres: CCREEntry[];\r\n    };\r\n    eQTL: EQTL;\r\n};\r\n\r\nexport type SNPCoordinateResponse = {\r\n    snpQuery: QTLEntry[];\r\n};\r\n\r\nconst SNP_QUERY = gql`\r\nquery s($chromosome: String, $start: Int, $end: Int, $coordinates: [GenomicRangeInput], $assembly: String!) {\r\n  snpQuery(assembly: \"hg38\", coordinates: $coordinates, common: true) {\r\n    id\r\n    coordinates {\r\n      chromosome\r\n      start\r\n      end\r\n    }\r\n  }\r\n  gene(chromosome: $chromosome, start: $start, end: $end, assembly: $assembly) {\r\n    name\r\n    strand\r\n    transcripts {\r\n      name\r\n      strand\r\n      exons {\r\n          coordinates {\r\n              chromosome\r\n              start\r\n              end\r\n          }\r\n      }\r\n      coordinates {\r\n        chromosome\r\n        start\r\n        end\r\n      }\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nexport type Transcript = {\r\n    id: string;\r\n    name: string;\r\n    strand: string;\r\n    coordinates: GenomicRange;\r\n};\r\nexport type SNPQueryResponse = {\r\n    snpQuery: {\r\n        id: string;\r\n        coordinates: GenomicRange;\r\n    }[];\r\n    gene: {\r\n        name: string;\r\n        strand: string;\r\n        transcripts: Transcript[];\r\n    }[];\r\n};\r\n\r\nconst QUERY = gql`\r\n${CCRE_FIELDS}\r\nquery q($assembly: String!, $name: [String]) {\r\n  queriedGene: gene(name: $name, assembly: $assembly) {\r\n    transcripts {\r\n      associated_ccres_pls {\r\n        intersecting_ccres {\r\n          ...CCREFields\r\n        }\r\n      }\r\n    }\r\n    fetal_eqtls(population: \"shared\") {\r\n      eqtls {\r\n        snp\r\n        fdr\r\n        nominal_pval\r\n        slope\r\n      }\r\n    }\r\n  }\r\n  queriedTranscript: transcript(name: $name, assembly: $assembly) {\r\n    associated_ccres_pls {\r\n      intersecting_ccres {\r\n        ...CCREFields\r\n      }\r\n    }\r\n    fetal_isoqtls(population: \"shared\") {\r\n      isoqtls {\r\n        snp\r\n        fdr\r\n        nominal_pval\r\n        slope\r\n      }\r\n    }\r\n  }\r\n}\r\n`;\r\n\r\nexport type EQTL = {\r\n    snp: string;\r\n    fdr: number;\r\n    nominal_pval: number;\r\n    slope: number;\r\n};\r\n\r\nexport type GeneQueryResponse = {\r\n    queriedGene: {\r\n        transcripts: {\r\n            associated_ccres_pls: {\r\n                intersecting_ccres: CCREEntry[];\r\n            };\r\n        }[];\r\n        fetal_eqtls: {\r\n            eqtls: EQTL[];\r\n        };\r\n    }[];\r\n    queriedTranscript: {\r\n        associated_ccres_pls: {\r\n            intersecting_ccres: CCREEntry[];\r\n        };\r\n        fetal_isoqtls: {\r\n            isoqtls: {\r\n                snp: string;\r\n                fdr: number;\r\n                nominal_pval: number;\r\n                slope: number;\r\n            }[];\r\n        };\r\n    }[];\r\n};\r\n\r\nexport function useGenePageData(expandedCoordinates: GenomicRange, assembly: string, name: string, resolvedTranscript?: boolean) {\r\n\r\n    const { data, loading } = useQuery<GeneQueryResponse>(QUERY, {\r\n        variables: {\r\n            coordinates: expandedCoordinates,\r\n            ...expandedCoordinates,\r\n            assembly,\r\n            name\r\n        }, context: {\r\n\t\t\tclientName: 'psychscreen'\r\n\t\t}\r\n    });\r\n\r\n    const snpCoordinateResponse = useQuery<SNPCoordinateResponse>(SNP_COORDINATE_QUERY, {\r\n        variables: {\r\n            id: [\r\n                ...(data?.queriedGene[0]?.fetal_eqtls.eqtls.map(x => x.snp) || []),\r\n                ...(data?.queriedTranscript[0]?.fetal_isoqtls.isoqtls.map(x => x.snp) || [])\r\n            ]\r\n        }, context: {\r\n\t\t\tclientName: 'psychscreen'\r\n\t\t},\r\n        skip: loading\r\n    });\r\n    \r\n    const coordinates = useMemo( () => expandCoordinates(/* {\r\n        chromosome: snpCoordinateResponse.data?.snpQuery[0]?.coordinates.chromosome || \"\",\r\n        start: Math.min(...(snpCoordinateResponse.data?.snpQuery.map(x => x.coordinates.start) || [0])),\r\n        end: Math.max(...(snpCoordinateResponse.data?.snpQuery.map(x => x.coordinates.end) || [0]))\r\n    }*/ expandedCoordinates, 100000), [ expandedCoordinates ]);\r\n\r\n    const snpResponse = useQuery<SNPQueryResponse>(SNP_QUERY, {\r\n        variables: { ...coordinates, coordinates, assembly },\r\n        skip: loading || snpCoordinateResponse.loading\r\n    });\r\n\r\n    const groupedTranscripts = useMemo( () => snpResponse.data?.gene.map(\r\n        x => ({\r\n            ...x,\r\n            transcripts: x.transcripts.map(xx => ({ ...xx, color: (resolvedTranscript ? xx : x).name === name ? \"#880000\" : \"#aaaaaa\" }))\r\n        })\r\n    ), [ resolvedTranscript, name, snpResponse ]);\r\n\r\n    return {\r\n        data: { ...snpResponse.data, ...data },\r\n        loading: loading || snpCoordinateResponse.loading || snpResponse.loading,\r\n        snpData: snpResponse.data,\r\n        snpCoordinateData: snpCoordinateResponse.data,\r\n        groupedTranscripts,\r\n        expandedCoordinates: coordinates\r\n    };\r\n\r\n}\r\n\r\n\r\nconst Browser: React.FC<any> = (props) => { \r\n    const svgRef = useRef<SVGSVGElement>(null);\r\n    const [ coordinates, setCoordinates ] = useState<GenomicRange | null>(null);\r\n    const [ highlight, setHighlight ] = useState<GenomicRange | null>(null);\r\n    const eexpandedCoordinates = useMemo( () => expandCoordinates(props.coordinates), [ props.coordinates ]);\r\n    \r\n    const { data, loading, groupedTranscripts, expandedCoordinates, snpCoordinateData } = useGenePageData(\r\n        eexpandedCoordinates,\r\n        \"GRCh38\",\r\n        props.name,\r\n        props.resolvedTranscript\r\n    );\r\n\r\n    console.log(groupedTranscripts)\r\n    const l = useCallback(c => (c - expandedCoordinates.start) * 1400 / (expandedCoordinates.end - expandedCoordinates.start), [ expandedCoordinates ]);\r\n    return (<>\r\n        <CytobandView\r\n            innerWidth={1000}\r\n            height={15}\r\n            chromosome={props.coordinates.chromosome!}\r\n            assembly={\"hg38\"}\r\n            position={props.coordinates}\r\n        /><br />\r\n        <GenomeBrowser\r\n            svgRef={svgRef}\r\n            domain={coordinates || expandedCoordinates}\r\n            innerWidth={1400}\r\n            width=\"100%\"\r\n            noMargin\r\n            onDomainChanged={x => setCoordinates({ chromosome: expandedCoordinates.chromosome, start: Math.floor(x.start), end: Math.ceil(x.end) })}\r\n        >\r\n            { highlight && (\r\n                <rect fill=\"#8ec7d1\" fillOpacity={0.5} height={1000} x={l(highlight.start)} width={l(highlight.end) - l(highlight.start)} />\r\n            )}\r\n            <RulerTrack\r\n                domain={coordinates || expandedCoordinates}\r\n                height={30}\r\n                width={1400}\r\n            />\r\n           <EGeneTracks\r\n                genes={groupedTranscripts || []}\r\n                expandedCoordinates={expandedCoordinates}\r\n            />\r\n            {/* <g className=\"manhattan-tracks\">\r\n                <rect y={22} height={170} fill=\"none\" width={1400} pointerEvents=\"visible\" onClick={() => setStudyModalShown(true)} /> \r\n            </g>\r\n            <EmptyTrack\r\n                height={40}\r\n                width={1400}\r\n                text={`Variant Associations with ${STUDIES.filter(x => x.pmid === study)[0].trait}`}\r\n                transform=\"\"\r\n                id=\"\"\r\n            />\r\n            <ManhattanPlotTrack\r\n                url={STUDIES.filter(x => x.pmid === study)[0].url}\r\n                domain={coordinates || expandedCoordinates}\r\n                onSNPMousedOver={x => snpMouseOver(({ domain: x.data.coordinates, id: x.data.rsId }))}\r\n                snpProps={snp => ldSet.has(snp.data.rsId) ? { fill: `rgb(255,${gradient(ldSet.get(snp.data.rsId)!)},0)` } : { fill: \"#dddddd\", fillOpacity: 0.4 }}\r\n                allQTLs={allQTLs}\r\n                groupedQTLs={groupedQTLs}\r\n                facetState={props.facetState}\r\n                anchor={ld.anchor}\r\n                ld={ld.ld}\r\n                sortOrder={(a, b) => (ldSet.has(a.data.rsId) ? a.data.score : -a.data.score) - (ldSet.has(b.data.rsId) ? b.data.score : -b.data.score)}\r\n                svgRef={svgRef}\r\n            />\r\n            <g className=\"xqtl\">\r\n                <rect y={22} height={65} fill=\"none\" width={1400} /> \r\n            </g>\r\n            <DefaultTracks\r\n                tracks={dtracks}\r\n                domain={coordinates || expandedCoordinates}\r\n                cCREHighlight={props.coordinates}\r\n                cCREHighlights={new Set(allQTLs.flatMap(x => x.intersecting_ccres.intersecting_ccres.map(x => x.accession)))}\r\n                svgRef={svgRef}\r\n                assembly={match?.params.assembly || \"\"}\r\n                oncCREClicked={x => history.push(`${troot}/${x}/browser`)}\r\n                oncCREMousedOver={x => x && setHighlight(x)}\r\n                oncCREMousedOut={() => setHighlight(null)}\r\n            />*/}\r\n        </GenomeBrowser>\r\n    </>)\r\n}\r\n\r\nexport default Browser;","\r\nimport React, { useState, useMemo, useRef } from 'react';\r\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\r\nimport { AppBar, Typography } from '@zscreen/psychscreen-ui-components';\r\nimport { PORTALS } from '../../../App';\r\nimport SettingsIcon from '@mui/icons-material/Settings';\r\nimport { Divider, Grid } from '@mui/material';\r\nimport Box from '@mui/material/Box';\r\nimport Slider from '@mui/material/Slider';\r\nimport Tabs from '@mui/material/Tabs';\r\nimport Tab from '@mui/material/Tab';\r\nimport ViolinPlot from './violin/violin';\r\nimport { gql, useQuery } from '@apollo/client';\r\nimport { groupBy } from 'queryz';\r\nimport { tissueColors } from './consts';\r\nimport OpenTarget from './OpenTarget';\r\nimport AssociatedxQTL from './AssociatedxQTL';\r\nimport GeneExpressionPage from './GeneExpression';\r\nimport Browser from './Browser/Browser';\r\n\r\nexport type FacetState = {\r\n  fdr: [ number, number ];\r\n  pvalue: [ number, number ];\r\n};\r\nconst marks = [\r\n    {\r\n      value: 0,\r\n      label: '0',\r\n    },\r\n    {\r\n      value: 100,\r\n      label: '100',\r\n    },\r\n  ];\r\n\r\n  \r\n  const GTEX_GENES_QUERY= gql`\r\n  query gtexgenes( $gene_id: [String]!){\r\n      gtex_genes(gene_id: $gene_id) {\r\n          val \r\n          gene_id\r\n          description\r\n          tissue_type\r\n          tissue_type_detail\r\n      }\r\n  }\r\n`  \r\nconst GeneDetails: React.FC = (props) => {\r\n    const { gene } = useParams();\r\n    const { state }: any = useLocation();\r\n    const navigate = useNavigate();  \r\n    const [tabIndex, setTabIndex] = useState(0);\r\n    const ref = useRef<SVGSVGElement>(null);\r\n    const { geneid, chromosome, start, end } = state ? state : { geneid: '', chromosome: '', start: null, end: null } \r\n\r\n    const handleTabChange = (_: any, newTabIndex: number) => {\r\n      setTabIndex(newTabIndex);\r\n    };\r\n\r\n    const { data } = useQuery(GTEX_GENES_QUERY, {\t\t\r\n      variables: {\r\n              gene_id: geneid\r\n          },\r\n          skip: geneid===''\r\n      })\r\n\r\n  const grouped = useMemo(\r\n      () =>\r\n          groupBy(\r\n              data?.gtex_genes || [],\r\n              (x: any) => x.tissue_type_detail,\r\n              x => x\r\n          ),\r\n      [data]\r\n  );\r\n\r\n\r\n  const sortedKeys = useMemo(\r\n      () =>\r\n          [...grouped.keys()]\r\n              .filter(\r\n                  x =>\r\n                      x !== null &&\r\n                      grouped\r\n                          .get(x)!\r\n              )\r\n              .sort((a, b) => a.toLowerCase().localeCompare(b.toLowerCase())),\r\n      [grouped]\r\n  );\r\n\r\n  const toPlot = useMemo(\r\n      () =>\r\n          new Map(\r\n              sortedKeys\r\n                  .map(\r\n                      x =>\r\n                          [\r\n                              x,\r\n                              new Map([\r\n                                  [\r\n                                      'all',\r\n                                      grouped\r\n                                          .get(x)!\r\n                                          .flatMap(x =>\r\n                                              x.val\r\n                                          )\r\n                                          .filter(x => x !== undefined)\r\n                                          .map(x => Math.log10(x! + 0.01)),\r\n                                  ],\r\n                              ]),\r\n                          ] as [string, Map<string, number[]>]\r\n                  )\r\n                  .filter(x => x[1].get('all')!.length > 1)\r\n          ),\r\n      [sortedKeys, grouped]\r\n  );\r\n \r\n  const domain: [number, number] = useMemo(() => {\r\n      const values = [...toPlot.values()].flatMap(x => x.get('all')!);\r\n      return [Math.log10(0.001), Math.max(...values)+0.5];\r\n  }, [toPlot]);\r\n  const width = useMemo(() => {\r\n      const keys = [...toPlot.keys()].length;\r\n      return (54 + (keys < 27 ? 27 : keys)) * 200;\r\n  }, [toPlot]);\r\n\r\n  const facetstate: FacetState = {\r\n    fdr: [ 0.0, 100.0 ] as [ number, number ],\r\n    pvalue: [ 0.0, 100.0 ] as [ number, number ]\r\n  };\r\n  \r\n \r\n    return (\r\n        <>\r\n            <AppBar\r\n                centered\r\n                onDownloadsClicked={() => navigate(\"/downloads\")}\r\n                onHomepageClicked={() => navigate(\"/\")}\r\n                onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\r\n                style={{ marginBottom: \"63px\" }}\r\n            />\r\n            <Grid container {...props}>  \r\n              \r\n                <Grid item sm={2}>\r\n                <Box sx={{ width: 250 }} style={{marginLeft:\"20px\"}}>\r\n                <SettingsIcon />\r\n                <Typography\r\n                type=\"display\"\r\n                size=\"medium\"\r\n                style={{ display: \"inline-block\", fontWeight: 700, fontSize: \"20px\", textAlign:\"left\",  lineHeight: \"15px\", verticalAlign:\"middle\" }}\r\n             \r\n            >\r\n              Visualization Settings\r\n            </Typography>\r\n            </Box>\r\n            <br/>\r\n            <Divider/>\r\n            <br/>\r\n            <Box sx={{ width: 250 }} style={{marginLeft:\"20px\"}}>\r\n                <Typography\r\n                        type=\"body\"\r\n                        size=\"small\"\r\n                >\r\n                     log<sub>10</sub>FDR:\r\n                </Typography>\r\n                <Slider\r\n                    aria-label=\"Custom marks\"\r\n                    defaultValue={100}\r\n                //  getAriaValueText={valuetext}\r\n                    step={1}\r\n                    valueLabelDisplay=\"auto\"\r\n                    marks={marks}\r\n                />\r\n            </Box>\r\n                </Grid>\r\n                <Grid item sm={0.5}></Grid>\r\n                <Grid item sm={9.5}>\r\n                <Box>\r\n                <Tabs value={tabIndex} onChange={handleTabChange}>\r\n                    <Tab label=\"Genome Browser\" ></Tab>\r\n                    <Tab label={gene + \" Expression\"} />\r\n                    <Tab label=\"Associated xQTLs\" />\r\n                    <Tab label=\"Open Target\" />\r\n                    <Tab label=\"GTex\" />\r\n                </Tabs>\r\n                <Divider/>\r\n                </Box>\r\n                <Box sx={{ padding: 2 }}>\r\n        {tabIndex === 0 && (\r\n          <Box>\r\n            <Browser facetState={facetstate} name={gene} coordinates={ {chromosome: chromosome,start: parseInt(start),end: parseInt(end)}}/>\r\n          </Box>\r\n        )}\r\n        {tabIndex === 1 && (\r\n          <Box>\r\n            <GeneExpressionPage id={geneid}/>\r\n          </Box>\r\n        )}\r\n        {tabIndex === 2 && (\r\n          <Box>\r\n            <AssociatedxQTL facetState={facetstate} name={gene} coordinates={ {chromosome: chromosome,start: parseInt(start),end: parseInt(end)}\r\n            }/>\r\n          </Box>\r\n        )}\r\n        {tabIndex === 3 && (\r\n          <Box>\r\n            <Typography  type=\"body\"\r\n                        size=\"small\">\r\n                  <OpenTarget id={geneid}/>\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n        {tabIndex === 4 && (\r\n          <Box>\r\n            {(data &&  data?.gtex_genes.length==0 )  ? <Typography type=\"body\" size=\"large\">\r\n              No GTex data found for {gene}\r\n            </Typography> : (\r\n                    <svg viewBox={`0 0 ${width} ${width / 2}`} style={{ width: '100%' }} ref={ref}>\r\n                        <ViolinPlot\r\n                            data={toPlot}\r\n                            title=\"log10 TPM\"\r\n                            width={width}\r\n                            height={width / 2}\r\n                            colors={tissueColors}\r\n                            domain={domain}\r\n                            tKeys={54}\r\n                        />\r\n                    </svg>)}\r\n          </Box>\r\n        )}\r\n      </Box>\r\n                </Grid>\r\n            </Grid>\r\n        </>\r\n    );\r\n};\r\nexport default GeneDetails;","import React, { useState, useEffect, useMemo, useRef } from 'react';\r\nimport { Chart, Scatter, LegendEntry } from 'jubilant-carnival';\r\nimport { Grid } from '@mui/material';\r\nimport Legend from './scatterplot/legend';\r\nimport { tissueTypeColors } from './consts';\r\nimport { TabletAppBar, Typography } from '@zscreen/psychscreen-ui-components';\r\nimport { useTheme, useMediaQuery } from '@material-ui/core';\r\nimport { PORTALS } from '../../../App';\r\nimport { AppBar } from '@zscreen/psychscreen-ui-components'; \r\nimport { Logo } from '../../../mobile-portrait/HomePage/HomePage';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nlet legendContent ={}\r\ntissueTypeColors.forEach((k,v)=>{ legendContent[k]= v })\r\n\r\n\r\nlet tissueCol ={}\r\ntissueTypeColors.forEach((k,v)=>{ tissueCol[v]= k })\r\n\r\n\r\nexport type GTexumap = {\r\n    \r\n    tissueid: string;\r\n    color: string;\r\n    tissuetype: string;\r\n    tissuedetail: string;    \r\n    coordinates: [ number, number ];\r\n   \r\n};\r\n\r\nfunction lower5(x: number): number {\r\n    return Math.floor(x / 5) * 5;\r\n}\r\n\r\nfunction upper5(x: number): number {\r\n    return Math.ceil(x / 5) * 5;\r\n}\r\n\r\nexport const range = (min: number, max: number, by: number = 1) => {\r\n    let newVals: number[] = [];\r\n    for (let i = min; i < max; i = i + by) {\r\n        newVals.push(i);\r\n    }\r\n    return newVals;\r\n};\r\nconst GTexUMAP: React.FC =(props) => {\r\n    const [ data, setData ] = useState<GTexumap[]>([]);\r\n    const [ pcdata, setPcData ] = useState<GTexumap[]>([]);\r\n    const theme = useTheme();\r\n    const navigate = useNavigate();\r\n\r\n    useEffect( () => {\r\n        fetch(\"https://storage.googleapis.com/data.genomealmanac.org/GTEx_v8_RNAseq_gene_tpm_matrix.txt\")\r\n        \r\n           .then(x => x.text())\r\n            .then(x => {\r\n                let f = x\r\n                \r\n                let lines = f.split(\"\\n\")\r\n                \r\n                let gtexumap: GTexumap[] = []\r\n                for(let l in lines){\r\n                    let vals = lines[l].split(\"\\t\")\r\n                    //console.log(vals)\r\n                   \r\n                    if(vals.length>1)\r\n                    {\r\n                        gtexumap.push({\r\n                            tissueid: vals[0],\r\n                            tissuetype: vals[1],\r\n                            color: tissueCol[vals[2]],\r\n                            tissuedetail: vals[2],\r\n                            coordinates: [+vals[3],+vals[4]]\r\n                        })\r\n                    }\r\n                    \r\n                }\r\n                console.log(gtexumap.length)\r\n                return gtexumap;\r\n\r\n            })\r\n            .then(x => setData(x));\r\n    }, []);\r\n\r\n    \r\n\r\n    useEffect( () => {\r\n        fetch(\"https://storage.googleapis.com/data.genomealmanac.org/GTEx_v8_RNAseq_gene_tpm_matrix_pc.txt\")\r\n        \r\n           .then(x => x.text())\r\n            .then(x => {\r\n                let f = x\r\n                \r\n                let lines = f.split(\"\\n\")\r\n                \r\n                let gtexumap: GTexumap[] = []\r\n                for(let l in lines){\r\n                    let vals = lines[l].split(\"\\t\")\r\n                   \r\n                    if(vals.length>1)\r\n                    {\r\n                        gtexumap.push({\r\n                            tissueid: vals[0],\r\n                            tissuetype: vals[1],\r\n                            color: tissueCol[vals[2]],\r\n                            tissuedetail: vals[2],\r\n                            coordinates: [+vals[3],+vals[4]]\r\n                        })\r\n                    }\r\n                    \r\n                }\r\n                console.log(gtexumap.length)\r\n                return gtexumap;\r\n\r\n            })\r\n            .then(x => setPcData(x));\r\n    }, []);\r\n    const points = useMemo( () => data.map(x => ({ x: x.coordinates[0], y: x.coordinates[1], svgProps: { fill: x.color } })), [ data ]);\r\n    const domain = useMemo( () => points.length === 0 ? { x: { start: 0, end: 1 }, y: { start: 0, end: 1 } } : ({\r\n        x: { start: lower5(Math.min(...points.map(x => x.x)) * 1.1), end: upper5(Math.max(...points.map(x => x.x)) * 1.1) },\r\n        y: { start: lower5(Math.min(...points.map(x => x.y)) * 1.1), end: upper5(Math.max(...points.map(x => x.y)) * 1.1) }\r\n    }), [ points ]);\r\n\r\n    const pcpoints = useMemo( () => pcdata.map(x => ({ x: x.coordinates[0], y: x.coordinates[1], svgProps: { fill: x.color } })), [ pcdata ]);\r\n    const pcdomain = useMemo( () => pcpoints.length === 0 ? { x: { start: 0, end: 1 }, y: { start: 0, end: 1 } } : ({\r\n        x: { start: lower5(Math.min(...pcpoints.map(x => x.x)) * 1.1), end: upper5(Math.max(...pcpoints.map(x => x.x)) * 1.1) },\r\n        y: { start: lower5(Math.min(...pcpoints.map(x => x.y)) * 1.1), end: upper5(Math.max(...pcpoints.map(x => x.y)) * 1.1) }\r\n    }), [ pcpoints ]);\r\n\r\n    const uref = useRef<SVGSVGElement>(null);\r\n    const pcuref = useRef<SVGSVGElement>(null);\r\n    const llegendref = useRef<SVGSVGElement>(null);\r\n    return (\r\n        <>\r\n        {  //show vertical app bar only for mobile view \r\n                useMediaQuery(theme.breakpoints.down('xs')) ? \r\n                    <TabletAppBar\r\n                        onDownloadsClicked={() => navigate(\"/psychscreen/downloads\")}\r\n                        onHomepageClicked={() => navigate(\"/\")}\r\n                        onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\r\n                        style={{ marginBottom: \"63px\" }}\r\n                        title={<Logo /> as any}\r\n                    />\r\n                    :<AppBar\r\n                        centered={true}\r\n                        onDownloadsClicked={() => navigate(\"/downloads\")}\r\n                        onHomepageClicked={() => navigate(\"/\")}\r\n                        onPortalClicked={index => navigate(`/psychscreen${PORTALS[index][0]}`)}\r\n                    /> \r\n            }   \r\n    <Grid container>\r\n          <Grid item sm={6} md={6} lg={6} xl={6} >\r\n\r\n        <>\r\n    {data && data.length>0 && <>\r\n        <Typography\r\n                            type=\"display\"\r\n                            size=\"small\"\r\n                            style={{ marginTop: \"90px\", marginLeft: \"250px\", fontWeight: 700, fontSize: \"24px\", lineHeight: \"57.6px\", letterSpacing: \"0.5px\" }}\r\n                        >\r\n                            UMAP of GTEx v8 RNA-seq (All genes)\r\n                        </Typography>\r\n     <Chart\r\n     marginFraction={0.28}\r\n     innerSize={{ width: 2100, height: 2000 }}\r\n     domain={domain}\r\n     xAxisProps={{ ticks: range(domain.x.start, domain.x.end, 5), title: 'UMAP-1' }}\r\n     yAxisProps={{ ticks: range(domain.y.start, domain.y.end, 5), title: 'UMAP-2' }}\r\n     scatterData={[ points ]}\r\n     \r\n     \r\n     ref={uref}\r\n >\r\n     <Scatter\r\n         data={points}\r\n     />\r\n </Chart>\r\n    </>}\r\n    \r\n    </>\r\n    </Grid>\r\n    <Grid item sm={6} md={6} lg={6} xl={6} >\r\n\r\n        <>\r\n        \r\n    {pcdata && pcdata.length>0 && <>\r\n        <Typography\r\n                            type=\"display\"\r\n                            size=\"small\"\r\n                            style={{ marginTop: \"90px\",marginLeft: \"250px\", fontWeight: 700, fontSize: \"24px\", lineHeight: \"57.6px\", letterSpacing: \"0.5px\" }}\r\n                        >\r\n                            UMAP of GTEx v8 RNA-seq (PC genes)\r\n                        </Typography>\r\n     <Chart\r\n     marginFraction={0.28}\r\n     innerSize={{ width: 2100, height: 2000 }}\r\n     domain={pcdomain}\r\n     xAxisProps={{ ticks: range(pcdomain.x.start, pcdomain.x.end, 5), title: 'UMAP-1' }}\r\n     yAxisProps={{ ticks: range(pcdomain.y.start, pcdomain.y.end, 5), title: 'UMAP-2' }}\r\n     scatterData={[ pcpoints ]}\r\n     \r\n     \r\n     ref={pcuref}\r\n >\r\n     <Scatter\r\n         data={pcpoints}\r\n     />\r\n </Chart>\r\n    </>}\r\n    \r\n    </>\r\n    </Grid>\r\n    </Grid>\r\n    <Grid container>\r\n        <Grid item sm={12} md={12} lg={12} xl={12} >\r\n        <svg viewBox=\"0 0 800 800\" ref={llegendref}>\r\n <Legend\r\n                x={350}\r\n                y={0}\r\n                width={200}\r\n                title={''}\r\n                content={legendContent}\r\n                fontSize={8}\r\n                fill=\"#ffffff\"\r\n                stroke=\"#ffffff\"\r\n            />\r\n                        </svg>\r\n \r\n                        </Grid>\r\n    </Grid></>)\r\n}\r\n\r\nexport default GTexUMAP;","import React, { useMemo } from 'react';\nimport { BrowserRouter as Router, Route, Routes, Navigate  } from 'react-router-dom';\nimport '@zscreen/psychscreen-ui-components/src/App.css';\nimport { ApolloClient, ApolloProvider, InMemoryCache } from '@apollo/client';\nimport './App.css';\nimport { HomePage as WebHomePage } from './web/HomePage';\nimport { HomePage as TabletHomePage } from './mobile-portrait/HomePage';\nimport { DownloadsPage } from './web/DownloadsPage';\nimport { DiseaseTraitPortal, GenePortal, SNPPortal, SingleCellPortal } from './web/Portals';\n//import { useViewportSize } from './hooks/useViewportSize';\nimport  DiseaseTraitDetails from './web/Portals/DiseaseTraitPortal/DiseaseTrailDetails';\nimport { useTheme, useMediaQuery } from '@material-ui/core';\nimport { HttpLink } from 'apollo-link-http';\nimport { ApolloLink } from 'apollo-link';\nimport GeneDetails from './web/Portals/GenePortal/GeneDetails';\nimport GTexUMAP from './web/Portals/GenePortal/GTexUMAP';\n\nexport const PORTALS: [ string, React.FC ][] = [\n    [ \"/traits\", DiseaseTraitPortal ],\n    [ \"/gene\", GenePortal ],\n    [ \"/snp\", SNPPortal ],\n    [ \"/single-cell\", SingleCellPortal ]\n];\n\nconst wengLink = new HttpLink({\n    uri: \"https://ga.staging.wenglab.org/graphql\",\n    });\n    \n    const openTargetLink = new HttpLink({\n    uri: \"https://api.genetics.opentargets.org/graphql\",\n    });\nconst psychscreenLink = new HttpLink({\n    uri: \"https://psychscreen.api.wenglab.org/graphql\",\n    });\n\n\n    const link = ApolloLink.split(\n        operation => operation.getContext().clientName === \"opentarget\",\n        openTargetLink, // <= apollo will send to this if clientName is \"opentarget\"\n        ApolloLink.split(operation => operation.getContext().clientName === \"psychscreen\", psychscreenLink,wengLink)   // <= otherwise will send to this\n      );\n      \nconst App: React.FC = () => {\n   \n    const client = useMemo( () => new ApolloClient({\n        link: (link as any),\n           cache: new InMemoryCache()\n       }), [link]);\n   \n    //const { width, height } = useViewportSize();\n    const theme = useTheme();\n    //useMediaQuery(theme.breakpoints.down('sm'))   \n    //const HomePage = useMemo( () => width < 1280 && height > width ? TabletHomePage : WebHomePage, [ width ] );\n\n    const HomePage =  useMediaQuery(theme.breakpoints.down('sm'))  ? TabletHomePage : WebHomePage;\n\n    return (\n        <ApolloProvider client={client}>\n            <Router>\n                <Routes>\n                    <Route path=\"/\" element={<Navigate replace to=\"/psychscreen\" />} />\n                    <Route path=\"/psychscreen\" element={<HomePage />} />\n                    <Route path=\"/psychscreen/downloads\" element={<DownloadsPage />} />\n                    <Route path=\"/psychscreen/traits/:disease\" element={<DiseaseTraitDetails />} />\n                    <Route path=\"/psychscreen/gene/:gene\" element={<GeneDetails />} />\n                    <Route path=\"/psychscreen/gene/gtexumap\" element={<GTexUMAP/>} />\n                    { PORTALS.map( portal => <Route path={`/psychscreen${portal[0] as string}`} element={React.createElement(portal[1], {})} /> )}\n                </Routes>\n            </Router>\n        </ApolloProvider>\n    );\n\n};\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nconst root = ReactDOM.createRoot(\n  document.getElementById('root') as HTMLElement\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}